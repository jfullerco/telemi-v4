(this["webpackJsonptelemi-v4-1"]=this["webpackJsonptelemi-v4-1"]||[]).push([[0],{325:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var n=a(3),l=a.n(n),i=a(46),c=a.n(i),s=a(29),r=a(25),d=a(7),o=a(2),u=a.n(o),b=a(4),j=a(10),p=function(e,t){switch(t.type){case"SET_CURRENT_COMPANYID":return Object(d.a)(Object(d.a)({},e),{},{currentCompanyID:t.payload});case"SET_CURRENT_USER":return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.payload});case"SET_CURRENT_COMPANY":return Object(d.a)(Object(d.a)({},e),{},{currentCompany:t.payload});case"SET_CURRENT_GRID":return Object(d.a)(Object(d.a)({},e),{},{currentGrid:t.payload});case"LOGGED_IN":return Object(d.a)(Object(d.a)({},e),{},{loggedIn:t.payload});case"SET_CURRENT_LOCATIONID":return Object(d.a)(Object(d.a)({},e),{},{currentLocationID:t.payload});case"SET_CURRENT_LOCATION_NAME":return Object(d.a)(Object(d.a)({},e),{},{currentLocationName:t.payload});case"SET_CURRENT_SERVICEID":return Object(d.a)(Object(d.a)({},e),{},{currentServiceID:t.payload});case"SET_CURRENT_SERVICE_NAME":return Object(d.a)(Object(d.a)({},e),{},{currentServiceName:t.payload});case"SET_CURRENT_TICKETID":return Object(d.a)(Object(d.a)({},e),{},{currentTicketID:t.payload});case"SET_CURRENT_TICKET_NUM":return Object(d.a)(Object(d.a)({},e),{},{currentTicketNum:t.payload});case"SET_CURRENT_ORDERID":return Object(d.a)(Object(d.a)({},e),{},{currentOrderID:t.payload});case"SET_CURRENT_ORDER_NUM":return Object(d.a)(Object(d.a)({},e),{},{currentOrderNum:t.payload});case"SET_CURRENT_ACCOUNTID":return Object(d.a)(Object(d.a)({},e),{},{currentAccountID:t.payload});case"SET_CURRENT_ACCOUNT_NUM":return Object(d.a)(Object(d.a)({},e),{},{currentAccountNum:t.payload});case"SET_DATA_LOADING":return Object(d.a)(Object(d.a)({},e),{},{dataLoading:t.payload});case"SET_USER_TYPE":return Object(d.a)(Object(d.a)({},e),{},{userType:t.payload});case"SET_USER_FNAME":return Object(d.a)(Object(d.a)({},e),{},{userFirstName:t.payload});case"SET_COMPANIES":return Object(d.a)(Object(d.a)({},e),{},{companies:t.payload});case"SET_SERVICES":return Object(d.a)(Object(d.a)({},e),{},{services:t.payload});case"SET_TICKETS":return Object(d.a)(Object(d.a)({},e),{},{tickets:t.payload});case"SET_ORDERS":return Object(d.a)(Object(d.a)({},e),{},{orders:t.payload});case"SET_ACCOUNTS":return Object(d.a)(Object(d.a)({},e),{},{accounts:t.payload});case"SET_BILLS":return Object(d.a)(Object(d.a)({},e),{},{bills:t.payload});case"SET_EVENTS":return Object(d.a)(Object(d.a)({},e),{},{events:t.payload});case"SET_NOTES":return Object(d.a)(Object(d.a)({},e),{},{notes:t.payload});case"SET_USERS":return Object(d.a)(Object(d.a)({},e),{},{users:t.payload});case"SET_USER_DEFAULTS":return Object(d.a)(Object(d.a)({},e),{},{userDefaults:t.payload});case"SET_CONTRACTS":return Object(d.a)(Object(d.a)({},e),{},{contracts:t.payload});case"SET_LOCATIONS":return Object(d.a)(Object(d.a)({},e),{},{locations:t.payload});case"SET_CURRENT_MODULE":return Object(d.a)(Object(d.a)({},e),{},{currentModule:t.payload});case"SET_CURRENT_DOC_ID":return Object(d.a)(Object(d.a)({},e),{},{currentDocID:t.payload})}},m=a(193),O=a(73),h=a(13),x=a(74),f=Object(m.a)({apiKey:"AIzaSyCLcH3HfDZU-0Qa8k90hHYhQZZRyOAy8j4",authDomain:"tiems-24d17.firebaseapp.com",databaseURL:"https://tiems-24d17-default-rtdb.firebaseio.com",projectId:"tiems-24d17",storageBucket:"tiems-24d17.appspot.com",messagingSenderId:"371736927443",appId:"1:371736927443:web:9d80c3abc38e399db3c826",measurementId:"G-1R2QK5MPPK"}),N={collection:h.d,query:h.k,where:h.n,doc:h.f,getDoc:h.g,getDocs:h.h,updateDoc:h.m,setDoc:h.l,addDoc:h.a,deleteDoc:h.e,getStorage:x.b,ref:x.c,onSnapshot:h.j,uploadBytes:x.d,getDownloadURL:x.a,arrayUnion:h.c,arrayRemove:h.b},v=Object(O.b)(f),F=Object(h.i)(f),y=Object(x.b)(f),C=a(1),S=Object(n.createContext)({}),T=function(e){var t=S.Provider,a=Object(n.useState)(!1),l=Object(j.a)(a,2),i=(l[0],l[1],Object(n.useState)(!1)),c=Object(j.a)(i,2),s=(c[0],c[1],Object(n.useState)("")),r=Object(j.a)(s,2),o=r[0],m=r[1],O=Object(n.useState)(""),x=Object(j.a)(O,2),f=x[0],N=x[1],v=function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(h.k)(Object(h.d)(F,"Companies"),Object(h.n)("Users","array-contains",t)),e.next=3,Object(h.h)(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Locations"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),console.log("Fetched Locations"),J(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(h.k)(Object(h.d)(F,"Locations"),Object(h.n)("CompanyID","==",t)),e.next=3,Object(h.h)(a);case 3:n=e.sent,l=n.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),console.log("Refreshed Locations"),J(l);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Services"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),Q(n),console.log("Fetched Services");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Services"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),Q(n),console.log("Refreshed Services");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Tickets"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),X(n),console.log("Fetched Tickets");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Tickets"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),X(n),console.log("Refreshed Tickets");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Orders"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ee(n),console.log("Fetched Orders");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Orders"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ee(n),console.log("Refreshed Orders");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Accounts"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),te(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Accounts"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),te(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Bills"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ae(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Bills"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ae(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Events"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ne(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Events"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ne(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Users"),Object(h.n)("Companies","array-contains",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),le(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Users"),Object(h.n)("Companies","array-contains",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),le(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Notes"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ce(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Notes"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t).where("CompanyID","==",W.currentCompanyID).get();case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ce(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Contracts"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ie(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Contracts"),Object(h.n)("CompanyID","==",W.currentCompanyID)),e.next=3,Object(h.h)(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),ie(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(u.a.mark((function e(t,a){var n,l,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(h.f)(F,t,a),e.next=3,Object(h.g)(n);case 3:l=e.sent,console.log(l),i=l.data(),c=l.id,N(Object(d.a)({id:c},i)),m(i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(b.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection(t).doc().set(a);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error submitting new document");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),Y=Object(n.useReducer)(p,{userType:"",currentUser:"",userFirstName:"",loggedIn:!1,companies:"",services:"",locations:"",accounts:"",bills:"",orders:"",events:"",quotes:"",contracts:"",notes:"",users:"",userDefaults:"",currentCompanyID:"",currentCompany:"",currentLocationID:"",currentLocationName:"",currentServiceID:"",currentServiceName:"",currentTicketID:"",currentTicketNum:"",currentOrderID:"",currentOrderNum:"",currentAccountID:"",currentAccountNum:"",currentModule:"",currentDocID:"",dataLoading:!1}),q=Object(j.a)(Y,2),W=q[0],$=q[1],J=function(e){$({type:"SET_LOCATIONS",payload:e})},Q=function(e){$({type:"SET_SERVICES",payload:e})},X=function(e){$({type:"SET_TICKETS",payload:e})},ee=function(e){$({type:"SET_ORDERS",payload:e})},te=function(e){$({type:"SET_ACCOUNTS",payload:e})},ae=function(e){$({type:"SET_BILLS",payload:e})},ne=function(e){$({type:"SET_EVENTS",payload:e})},le=function(e){$({type:"SET_USERS",payload:e})},ie=function(e){$({type:"SET_CONTRACTS",payload:e})},ce=function(e){$({type:"SET_NOTES",payload:e})};return Object(C.jsx)(t,{value:{isStyle:{headerStyle:{borderBottomStyle:"solid",bottomBorderColor:"black"}},setUserFirstName:function(e){$({type:"SET_USER_FNAME",payload:e})},setUserType:function(e){$({type:"SET_USER_TYPE",payload:e})},setCurrentUser:function(e){$({type:"SET_CURRENT_USER",payload:e})},setLoggedIn:function(e){$({type:"LOGGED_IN",payload:e})},setCurrentDate:function(){return(new Date).toISOString().substring(0,10)},setCompanies:function(e){$({type:"SET_COMPANIES",payload:e})},setLocations:J,setServices:Q,setTickets:X,setOrders:ee,setAccounts:te,setBills:ae,setUsers:le,setUserDefaults:function(e){$({type:"SET_USER_DEFAULTS",payload:e})},setContracts:ie,setNotes:ce,setCurrentCompanyID:function(e){$({type:"SET_CURRENT_COMPANYID",payload:e})},setCurrentCompany:function(e){$({type:"SET_CURRENT_COMPANY",payload:e})},setCurrentLocationID:function(e){$({type:"SET_CURRENT_LOCATIONID",payload:e})},setCurrentLocationName:function(e){$({type:"SET_CURRENT_LOCATION_NAME",payload:e})},setCurrentServiceID:function(e){$({type:"SET_CURRENT_SERVICEID",payload:e})},setCurrentServiceName:function(e){$({type:"SET_CURRENT_SERVICE_NAME",payload:e})},setCurrentTicketID:function(e){$({type:"SET_CURRENT_TICKETID",payload:e})},setCurrentTicketNum:function(e){$({type:"SET_CURRENT_TICKET_NUM",payload:e})},setCurrentOrderID:function(e){$({type:"SET_CURRENT_ORDERID",payload:e})},setCurrentOrderNum:function(e){$({type:"SET_CURRENT_ORDER_NUM",payload:e})},setCurrentAccountID:function(e){$({type:"SET_CURRENT_ACCOUNTID",payload:e})},setCurrentAccountNum:function(e){$({type:"SET_CURRENT_ACCOUNT_NUM",payload:e})},setCurrentModule:function(e){$({type:"SET_CURRENT_MODULE",payload:e})},setCurrentDocID:function(e){$({type:"SET_CURRENT_DOC_ID",payload:e})},fetchCompanies:v,fetchLocations:y,refreshLocations:T,fetchServices:D,refreshServices:I,fetchTickets:g,refreshTickets:k,fetchOrders:A,refreshOrders:V,fetchAccounts:L,refreshAccounts:w,fetchBills:E,refreshBills:R,fetchEvents:B,refreshEvents:U,fetchUsers:M,refreshUsers:P,fetchContracts:z,refreshContracts:H,fetchNotes:_,refreshNotes:G,fetchPage:K,handleSubmitNew:Z,data:o,setData:m,active:f,setActive:N,setDataLoading:function(e){$({type:"SET_DATA_LOADING",payload:e})},setCurrentGrid:function(e){$({type:"SET_CURRENT_GRID",payload:e})},userSession:W},children:e.children})},D=[{Name:"AT&T",Value:"AT&T"},{Name:"Verizon",Value:"Verizon"},{Name:"Lumen/CenturyLink",Value:"Lumen/CenturyLink"},{Name:"Lumos",Value:"Lumos"},{Name:"Windstream",Value:"Windstream"},{Name:"Lingo",Value:"Lingo"},{Name:"Comcast",Value:"Comcast"},{Name:"Spectrum",Value:"Spectrum"},{Name:"Microsoft",Value:"Microsoft"},{Name:"Masergy",Value:"Masergy"},{Name:"Nitel",Value:"Nitel"},{Name:"Segra",Value:"Segra"},{Name:"Level3",Value:"Level3"},{Name:"TalkDesk",Value:"TalkDesk"},{Name:"8x8",Value:"8x8"},{Name:"ACC",Value:"ACC"},{Name:"BCN",Value:"BCN"},{Name:"CallTower",Value:"CallTower"},{Name:"Cato",Value:"Cato"},{Name:"CBTS",Value:"CBTS"},{Name:"Colt",Value:"Colt"},{Name:"Cox",Value:"Cox"},{Name:"Crown Castle",Value:"Crown Castle"},{Name:"DialPad",Value:"Dialpad"},{Name:"Dobson Fiber",Value:"Dobson Fiber"},{Name:"Equinix",Value:"Equinix"},{Name:"Fiber Light",Value:"Fiber Light"},{Name:"Evolve IP",Value:"Evolve IP"},{Name:"Frontier",Value:"Frontier"},{Name:"RingCentral",Value:"RingCentral"},{Name:"Granite",Value:"Granite"},{Name:"Green Cloud",Value:"Green Cloud"},{Name:"Intelepeer",Value:"Intelepeer"},{Name:"MetTel",Value:"MetTel"},{Name:"Momentum",Value:"Momentum"},{Name:"Netwolves",Value:"Netwolves"},{Name:"Nextiva",Value:"Nextiva"},{Name:"Vonage Business",Value:"Vonage Business"},{Name:"Net2Phone",Value:"Net2Phone"},{Name:"Peerless Network",Value:"Peerless Network"}],I=[{name:"Alabama",code:"AL"},{name:"Alaska",code:"AK"},{name:"Arizona",code:"AZ"},{name:"Arkansas",code:"AR"},{name:"California",code:"CA"},{name:"Colorado",code:"CO"},{name:"Connecticut",code:"CT"},{name:"Delaware",code:"DE"},{name:"Florida",code:"FL"},{name:"Georgia",code:"GA"},{name:"Hawaii",code:"HI"},{name:"Idaho",code:"ID"},{name:"Illinois",code:"IL"},{name:"Indiana",code:"IN"},{name:"Iowa",code:"IA"},{name:"Kansas",code:"KS"},{name:"Kentucky",code:"KY"},{name:"Louisiana",code:"LA"},{name:"Maine",code:"ME"},{name:"Maryland",code:"MD"},{name:"Massachusetts",code:"MA"},{name:"Michigan",code:"MI"},{name:"Minnesota",code:"MN"},{name:"Mississippi",code:"MS"},{name:"Missouri",code:"MO"},{name:"Montana",code:"MT"},{name:"Nebraska",code:"NE"},{name:"Nevada",code:"NV"},{name:"New Hampshire",code:"NH"},{name:"New Jersey",code:"NJ"},{name:"New Mexico",code:"NM"},{name:"New York",code:"NY"},{name:"North Carolina",code:"NC"},{name:"North Dakota",code:"ND"},{name:"Ohio",code:"OH"},{name:"Oklahoma",code:"OK"},{name:"Oregon",code:"OR"},{name:"Pennsylvania",code:"PA"},{name:"Rhode Island",code:"RI"},{name:"South Carolina",code:"SC"},{name:"South Dakota",code:"SD"},{name:"Tennessee",code:"TN"},{name:"Texas",code:"TX"},{name:"Utah",code:"UT"},{name:"Vermont",code:"VT"},{name:"Virginia",code:"VA"},{name:"Washington",code:"WA"},{name:"West Virginia",code:"WV"},{name:"Wisconsin",code:"WI"},{name:"Wyoming",code:"WY"}],g=[{Name:"Internet",Value:"Internet"},{Name:"Internet with Voice",Value:"Internet with Voice"},{Name:"Switched Ethernet",Value:"Switched Ethernet"},{Name:"Dedicated Ethernet",Value:"Dedicated Ethernet"},{Name:"Dedicated Fiber",Value:"Dedicated Fiber"},{Name:"MPLS",Value:"MPLS"},{Name:"MPLS with Voice",Value:"MPLS with Voice"},{Name:"Voice",Value:"Voice"},{Name:"Legacy Voice",Value:"Legacy Voice"},{Name:"PRI",Value:"PRI"},{Name:"POTS",Value:"POTS"},{Name:"Cable/DSL",Value:"Cable/DSL"},{Name:"Mobility",Value:"Mobility"},{Name:"Cloud Services",Value:"Cloud Services"},{Name:"Managed Security",Value:"Managed Security"},{Name:"Colocation/Hosting",Value:"Colocation/Hosting"}],k=[{Name:"T1",Value:"T1"},{Name:"Ethernet",Value:"Ethernet"},{Name:"Fiber",Value:"Fiber"},{Name:"Cable/DSL",Value:"CableDSL"},{Name:"Mobile",Value:"Mobile"},{Name:"Cloud",Value:"Cloud"}],A=Object(n.createContext)({}),V=function(e){var t=A.Provider,a=Object(n.useContext)(S),l=Object(n.useState)([]),i=Object(j.a)(l,2),c=i[0],s=i[1],r=N.collection,o=N.query,p=N.getDocs,m=a.userSession,O=m.locations,h=m.orders,x=m.accounts,f=m.services,v=(m.notes,m.tickets),y=m.events,T=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o(r(F,"Core")),e.next=3,p(t);case 3:a=e.sent,n=a.docs.map((function(e){return Object(d.a)({module:e.id},e.data())})),s(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=[{label:"Essentials",inputFieldType:"tabTitle"},{label:"Service Location",dataField:"LocationName",inputFieldType:"related-select",inputSource:O,inputID:"id",inputValue:"Name",relatedCollection:"Locations",relatedDataField:"LocationID",relatedInputLabel:"Location Name",relatedInputFields:[{label:"Location Name",dataField:"Name",inputFieldType:"text"},{label:"Address 1",dataField:"Address1",inputFieldType:"text"},{label:"Address 2",dataField:"Address2",inputFieldType:"text"},{label:"City",dataField:"City",inputFieldType:"text"},{label:"State",dataField:"State",inputFieldType:"select",inputSource:I,inputName:"Name",inputValue:"code"},{label:"Province/Region",dataField:"Region",inputFieldType:"text"},{label:"Zip",dataField:"Zip",inputFieldType:"text"},{label:"Country",dataField:"Country",inputFieldType:"text"}],relatedDataType:"Location",tab:"Essentials"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"Essentials"},{label:"Type",dataField:"Type",inputFieldType:"select",inputSource:g,inputID:"Name",inputValue:"Value",tab:"Essentials"},{label:"Service Name",dataField:"VendorServiceName",inputFieldType:"text",tab:"Essentials"},{label:"Access Type",dataField:"AccessType",inputFieldType:"select",inputSource:k,inputID:"Name",inputValue:"Value",tab:"Essentials"},{label:"Asset ID",dataField:"AssetID",inputFieldType:"text",tab:"Essentials",isHeader:!0},{label:"Bandwidth",dataField:"Bandwidth",inputFieldType:"text",tab:"Essentials"},{label:"Monthly Cost",dataField:"MRC",inputFieldType:"currency",tab:"Essentials"},{label:"Status",dataField:"Status",inputFieldType:"status",inputSource:[{Name:"Active",Value:"Active"},{Name:"Disconnected",Value:"Disconnected"},{Name:"Pending Activation",Value:"Pending Activation"},{Name:"Pending Disconnect",Value:"Pending Disconnect"}],inputID:"Name",inputValue:"Value",tab:"Essentials"},{label:"Tags",dataField:"Tags",inputFieldType:"tags",tab:"Essentials"},{label:"Details",inputFieldType:"tabTitle"},{label:"Order Number",dataField:"OrderNum",visible:!0,inputFieldType:"related-select",inputSource:h,inputID:"id",inputValue:"OrderNum",relatedCollection:"Orders",relatedDataField:"OrderID",relatedInputLabel:"Order Number",relatedInputFields:[{label:"Order",dataField:"OrderNum",inputFieldType:"text"}],relatedDataType:"Order",tab:"Details"},{label:"Related Order ID",dataField:"OrderID",visible:!1,inputSource:h,inputID:"ID",inputValue:"id",tab:"Details"},{label:"MCN",dataField:"MCN",inputFieldType:"text",tab:"Details"},{label:"Service Start Date",dataField:"StartDate",visible:!0,inputFieldType:"datepicker",tab:"Details"},{label:"Last Mile",dataField:"LastMile",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"Details"},{label:"LEC Circuit ID",dataField:"LECCircuitID",inputFieldType:"text",tab:"Details"},{label:"Demarc Information",dataField:"DemarcInfo",visible:!0,inputFieldType:"text-area",tab:"Details"},{label:"IP Assignments",dataField:"IPAssignments",inputFieldType:"array-map-list",relatedInputFields:[{label:"Type",dataField:"Type",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Public IP",Value:"Public IP"},{Name:"WAN",Value:"WAN"},{Name:"LAN",Value:"LAN"},{Name:"CER",Value:"CER"},{Name:"PER",Value:"PER"},{Name:"Border Element",Value:"Border Element"},{Name:"Virtual",Value:"Virtual"},{Name:"Route",Value:"Route"},{Name:"Device",Value:"Device"}]},{label:"Version",dataField:"Version",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"v4",Value:"v4"},{Name:"v6",Value:"v6"}]},{label:"IP Address",dataField:"IPAddress",inputFieldType:"text"},{label:"Range",dataField:"Range",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"/30",Value:"/30"},{Name:"/29",Value:"/29"},{Name:"/28",Value:"/28"},{Name:"/27",Value:"/27"},{Name:"/26",Value:"/26"},{Name:"/25",Value:"/25"},{Name:"/24",Value:"/24"},{Name:"/23",Value:"/23"},{Name:"/22",Value:"/22"},{Name:"/21",Value:"/21"},{Name:"/20",Value:"/20"},{Name:"/19",Value:"/19"},{Name:"/18",Value:"/18"},{Name:"/17",Value:"/17"},{Name:"/16",Value:"/16"}]}],tab:"Details",hasBreakBefore:!0},{label:"Support",inputFieldType:"tabTitle"},{label:"Related Tickets",dataField:"Tickets",inputFieldType:"map-list",inputSource:v,inputID:"id",inputValue:"TicketNum",relatedCollection:"Tickets",relatedDataField:"ServiceID",relatedInputLabel:"Ticket Number",relatedInputFields:[{label:"Ticket",dataField:"TicketNum",inputFieldType:"text"},{label:"Type",dataField:"Type",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Service",Value:"Service"},{Name:"Billing",Value:"Billing"},{Name:"Disconnect",Value:"Disconnect"}]},{label:"Status",dataField:"Status",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Submitted",Value:"Submitted"},{Name:"In Process",Value:"In Process"},{Name:"Completed",Value:"Completed"},{Name:"Closed",Value:"Closed"}]}],tab:"Support"},{label:"Billing",inputFieldType:"tabTitle"},{label:"Related Account",dataField:"AccountNum",visible:!0,inputFieldType:"related-select",inputSource:x,inputID:"id",inputValue:"AccountNum",relatedCollection:"Accounts",relatedDataField:"AccountID",relatedInputLabel:"Account Number",relatedInputFields:[{label:"Account Number",dataField:"AccountNum",inputFieldType:"text"}],relatedDataType:"Account",tab:"Billing"},{label:"Sub Account",dataField:"SubAccountNum",inputFieldType:"text",tab:"Billing"},{label:"Group Number",dataField:"GroupNum",inputFieldType:"text",tab:"Billing"},{label:"Last Bill Amount",dataField:"LastBillAmount",inputFieldType:"currency",tab:"Billing"},{label:"Bills",dataField:"Bills",inputFieldType:"map-list",relatedCollection:"Bills",relatedDataField:"ServiceID",relatedInputLabel:"Bill",relatedInputFields:[{label:"Date",dataField:"Date",inputFieldType:"datepicker"},{label:"Base Cost",dataField:"Cost",inputFieldType:"currency"},{label:"Total Cost",dataField:"TotalCost",inputFieldType:"currency"},{label:"Disputed",dataField:"DisputedCost",inputFieldType:"currency"}],tab:"Billing"},{label:"Notes",inputFieldType:"tabTitle"},{label:"Notes",dataField:"Notes",inputFieldType:"map-list",relatedCollection:"Notes",relatedDataField:"ServiceID",relatedInputLabel:"Note",relatedInputFields:[{label:"Date",dataField:"Date",inputFieldType:"datepicker"},{label:"Note",dataField:"NoteBody",inputFieldType:"text-area"}],tab:"Notes"}],L=[{label:"Ticket Number",dataField:"TicketNum",inputFieldType:"text",tab:"Essentials",isHeader:!0},{label:"Service Location",dataField:"LocationName",inputFieldType:"related-select",inputSource:O,inputID:"id",inputValue:"Name",relatedCollection:"Locations",relatedDataField:"LocationID",relatedInputLabel:"Location Name",relatedInputFields:[{label:"Location Name",dataField:"Name",inputFieldType:"text"},{label:"Address 1",dataField:"Address1",inputFieldType:"text"},{label:"Address 2",dataField:"Address2",inputFieldType:"text"},{label:"City",dataField:"City",inputFieldType:"text"},{label:"State",dataField:"State",inputFieldType:"text"},{label:"Province/Region",dataField:"Region",inputFieldType:"text"},{label:"Zip",dataField:"Zip",inputFieldType:"text"},{label:"Country",dataField:"Country",inputFieldType:"text"}],relatedDataType:"Location",tab:"Essentials"},{label:"Service Location ID",dataField:"LocationID",visible:!1,inputSource:O,inputID:"ID",inputValue:"id",tab:"Essentials"},{label:"Related Account",dataField:"AccountNum",visible:!0,inputFieldType:"related-select",inputSource:"",inputID:"id",inputValue:"AccountNum",relatedCollection:"Accounts",relatedDataField:"AccountID",relatedInputLabel:"Account Number",relatedInputFields:[{label:"Account Number",dataField:"AccountNum",inputFieldType:"text"}],relatedDataType:"Account",tab:"Essentials"},{label:"Related Account ID",dataField:"AccountID",visible:!1,inputSource:x,inputID:"ID",inputValue:"id",tab:"Essentials"},{label:"Related Service",dataField:"ServiceAssetID",inputFieldType:"related-select",inputSource:f,inputID:"id",inputValue:"AssetID",relatedCollection:"Services",relatedDataField:"ServiceID",relatedInputLabel:"Related Asset",relatedInputFields:[{label:"Asset ID",dataField:"AssetID",inputFieldType:"text"}],relatedDataType:"Service",tab:"Essentials"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"Essentials"},{label:"Date Submitted",dataField:"DateSubmitted",inputFieldType:"datepicker",tab:"Essentials"},{label:"Type",dataField:"Type",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Service",Value:"Service"},{Name:"Billing",Value:"Billing"},{Name:"Disconnect",Value:"Disconnect"}],tab:"Essentials"},{label:"Status",dataField:"Status",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Submitted",Value:"Submitted"},{Name:"In Process",Value:"In Process"},{Name:"Completed",Value:"Completed"},{Name:"Closed",Value:"Closed"}],tab:"Essentials"},{label:"Details",dataField:"Details",inputFieldType:"text-area",tab:"Essentials"},{label:"Notes",dataField:"NoteID",inputFieldType:"map-list",inputSource:"",inputID:"id",inputValue:"TicketID",relatedCollection:"Notes",relatedDataField:"NoteID",relatedInputLabel:"Notes",relatedInputFields:[{label:"Date",dataField:"Date",inputFieldType:"datepicker"},{label:"Note",dataField:"Note",inputFieldType:"textarea"}],relatedDataType:"Note",tab:"Notes"}],w=[{label:"Account Number",dataField:"AccountNum",inputFieldType:"text",isHeader:!0,tab:"BASIC INFO"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"BASIC INFO"},{label:"Date Billing Started",dataField:"BillingStartDate",inputFieldType:"datepicker",tab:"DETAILS"},{label:"Type",dataField:"Type",inputFieldType:"text",tab:"DETAILS"},{label:"Related Services",dataField:"Services",inputFieldType:"map-list",inputSource:"",inputID:"id",inputValue:"AssetID",relatedCollection:"Services",relatedDataField:"AccountID",relatedInputLabel:"Related Asset",relatedInputFields:[{label:"Asset ID",dataField:"AssetID",inputFieldType:"text"},{label:"Service Location",dataField:"LocationName",inputFieldType:"text"},{label:"Group",dataField:"GroupNum",inputFieldType:"text"}],relatedDataType:"Service",tab:"BASIC INFO",tabLabel:"BASIC INFO",hasBreakBefore:!0},{label:"Bills",dataField:"Bills",inputFieldType:"map-list",relatedCollection:"Bills",relatedDataField:"AccountID",relatedInputFields:[{label:"Date",dataField:"Date",inputFieldType:"datepicker"},{label:"Sub Account",dataField:"SubAccountNum",inputFieldType:"text"},{label:"Asset ID",dataField:"AssetID",inputFieldType:"text"},{label:"Cost",dataField:"Cost",inputFieldType:"currency"}],tab:"BILLING",tabLabel:"BILLING"}],E=[{label:"Essentials",inputFieldType:"tabTitle"},{label:"Service Location",dataField:"LocationName",inputFieldType:"related-select",inputSource:O,inputID:"id",inputValue:"Name",relatedCollection:"Locations",relatedDataField:"LocationID",relatedInputLabel:"Location Name",relatedInputFields:[{label:"Location Name",dataField:"Name",inputFieldType:"text"},{label:"Address 1",dataField:"Address1",inputFieldType:"text"},{label:"Address 2",dataField:"Address2",inputFieldType:"text"},{label:"City",dataField:"City",inputFieldType:"text"},{label:"State",dataField:"State",inputFieldType:"text"},{label:"Province/Region",dataField:"Region",inputFieldType:"text"},{label:"Zip",dataField:"Zip",inputFieldType:"text"},{label:"Country",dataField:"Country",inputFieldType:"text"}],relatedDataType:"Location",tab:"Essentials"},{label:"Order Number",dataField:"OrderNum",inputFieldType:"text",isHeader:!0,tab:"Essentials"},{label:"Date Ordered",dataField:"OrderDate",inputFieldType:"datepicker",tab:"Essentials"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"Essentials"},{label:"Service Name",dataField:"VendorServiceName",inputFieldType:"text",tab:"Essentials"},{label:"Order Type",dataField:"Type",visible:!1,inputField:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"New",Value:"New"},{Name:"Change",Value:"Change"},{Name:"Disconnect",Value:"Disconnect"}],tab:"Essentials"},{label:"Monthly Cost",dataField:"MRC",inputFieldType:"currency",tab:"Essentials"},{label:"Status",dataField:"Status",inputFieldType:"select",inputID:"id",inputValue:"Name",inputSource:[{Name:"Ordered",Value:"Ordered"},{Name:"Completed",Value:"Completed"},{Name:"Cancelled",Value:"Cancelled"}],tab:"Essentials"},{label:"Bandwidth",dataField:"Bandwidth",inputFieldType:"text",tab:"Details"},{label:"Related Service",dataField:"AssetID",inputFieldType:"related-select",inputSource:f,inputID:"id",inputValue:"AssetID",relatedCollection:"Services",relatedDataField:"ServiceID",relatedInputLabel:"Related Asset",relatedInputFields:[{label:"Asset ID",dataField:"AssetID",inputFieldType:"text"},{label:"Location",dataField:"LocationName",inputFieldType:"text"}],relatedDataType:"Service",tab:"Details"},{label:"Details",dataField:"Details",inputFieldType:"text-area",tab:"Details"},{label:"Events",dataField:"Events",inputFieldType:"map-list",inputSource:y,inputID:"id",inputValue:"EventName",relatedCollection:"Events",relatedDataField:"OrderID",relatedInputLabel:"Event",relatedInputFields:[{label:"Event",dataField:"EventName",inputFieldType:"text"},{label:"Type",dataField:"Type",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"TTU",Value:"TTU"},{Name:"LAN Migration",Value:"LAN Migration"},{Name:"MACD Completion",Value:"MACD Completion"},{Name:"Activation",Value:"Activation"},{Name:"Billing Start",Value:"Billing Start"}]},{label:"Date",dataField:"Date",inputFieldType:"datepicker"}],tab:"Details"},{label:"Related Tickets",dataField:"Tickets",inputFieldType:"map-list",inputSource:v,inputID:"id",inputValue:"TicketNum",relatedCollection:"Tickets",relatedDataField:"TicketID",relatedInputLabel:"Ticket Number",relatedInputFields:[{label:"Ticket",dataField:"TicketNum",inputFieldType:"text"},{label:"Type",dataField:"Type",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Service",Value:"Service"},{Name:"Billing",Value:"Billing"},{Name:"Disconnect",Value:"Disconnect"}]},{label:"Status",dataField:"Status",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Submitted",Value:"Submitted"},{Name:"In Process",Value:"In Process"},{Name:"Completed",Value:"Completed"},{Name:"Closed",Value:"Closed"}]}],tab:"Support"},{label:"Notes",dataField:"Notes",inputFieldType:"map-list",relatedCollection:"Notes",relatedDataField:"OrderID",relatedInputLabel:"Note",relatedInputFields:[{label:"Date",dataField:"Date",inputFieldType:"datepicker"},{label:"Note",dataField:"NoteBody",inputFieldType:"text-area"}],tab:"Notes"},{label:"Revenue",dataField:"Revenue",inputFieldType:"array-map-list",relatedInputFields:[{label:"Cycle",dataField:"CycleMonth",inputFieldType:"datepicker"},{label:"Order #",dataField:"OrderNum",inputFieldType:"text"},{label:"Type",dataField:"Type",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"IN",Value:"IN"},{Name:"OUT",Value:"OUT"}]},{label:"MRC",dataField:"MRC",inputFieldType:"currency"},{label:"Revenue",dataField:"RevenueAmount",inputFieldType:"currency"}],tab:"Revenue",permission:"Admin"}],R=[{label:"Location",dataField:"LocationName",inputFieldType:"related-select",inputSource:"",inputID:"id",inputValue:"Name",relatedCollection:"Locations",relatedDataField:"LocationID",relatedInputLabel:"Location Name",relatedInputFields:[{label:"Location Name",dataField:"Name",inputFieldType:"text"},{label:"Address 1",dataField:"Address1",inputFieldType:"text"},{label:"Address 2",dataField:"Address2",inputFieldType:"text"},{label:"City",dataField:"City",inputFieldType:"text"},{label:"State",dataField:"State",inputFieldType:"text"},{label:"Province/Region",dataField:"Region",inputFieldType:"text"},{label:"Zip",dataField:"Zip",inputFieldType:"text"},{label:"Country",dataField:"Country",inputFieldType:"text"}],relatedDataType:"Location",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Account Number",dataField:"AccountNum",inputFieldType:"text",tab:"BASIC INFO"},{label:"Account ID",dataField:"AccountID",inputFieldType:"text",tab:"BASIC INFO"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"BASIC INFO"},{label:"Asset ID",dataField:"AssetID",inputField:"text",tab:"BASIC INFO"},{label:"Amount Billed",dataField:"Cost",inputFieldType:"currency",tab:"BASIC INFO"},{label:"Total Billed",dataField:"TotalCost",inputFieldType:"currency",tab:"BASIC INFO"},{label:"Disputed Amount",dataField:"DisputedCost",inputFieldType:"currency",tab:"BASIC INFO"},{label:"Company Name",visible:!1,dataField:"CompanyName",inputFieldType:"text",tab:"BASIC INFO"},{label:"Company ID",visible:!1,dataField:"CompanyID",inputFieldType:"text",tab:"BASIC INFO"}],B=[{label:"Location Name",dataField:"Name",inputFieldType:"text",tab:"Essentials",isHeader:!0},{label:"Address",dataField:"SearchAddress",inputFieldType:"ac-places"},{label:"Address 1",dataField:"Address1",inputFieldType:"text",tab:"Essentials"},{label:"Address 2",dataField:"Address2",inputFieldType:"text",tab:"Essentials"},{label:"City",dataField:"City",inputFieldType:"text",tab:"Essentials"},{label:"State",dataField:"State",inputFieldType:"select",inputSource:I,inputValue:"code",tab:"Essentials"},{label:"Province/Region",dataField:"Region",inputFieldType:"text",tab:"Essentials"},{label:"Zip",dataField:"Zip",inputFieldType:"text",tab:"Essentials"},{label:"Country",dataField:"Country",inputFieldType:"text",tab:"Essentials"},{label:"Full Address",dataField:"FullAddress",inputFieldType:"concat",visible:!1,tab:"Essentials"},{label:"Related Services",dataField:"RelatedLocationID",inputFieldType:"related-array-map",inputSource:f,relatedCollection:"Services",helperCollection:"RELATED_KEY",columns:[{label:"Vendor",dataField:"Vendor"},{label:"Asset",dataField:"AssetID"}],tab:"Services"}],U=[{label:"Contract Name",dataField:"Name",inputFieldType:"text",tab:"Essentials",isHeader:!0},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"Essentials"},{label:"Date Signed",dataField:"Date",inputFieldType:"datepicker",tab:"Essentials"},{label:"Term",dataField:"Term",inputFieldType:"select",inputSource:[{Name:"Month to Month",Value:"Month to Month"},{Name:"12",Value:"12"},{Name:"24",Value:"24"},{Name:"36",Value:"36"},{Name:"48",Value:"48"},{Name:"60",Value:"60"}],inputID:"Name",inputValue:"Value",tab:"Essentials"},{label:"File",dataField:"FileURL",inputFieldType:"file-field",tab:"Essentials"}];return Object(C.jsx)(t,{value:{serviceGridColumns:[{docField:"Vendor",headerName:"Vendor",key:"1",filterable:!0,visible:!0},{docField:"VendorServiceName",headerName:"Product",key:"2",filterable:!0,visible:!0},{docField:"LocationName",headerName:"Location",key:"3",filterable:!0,visible:!0,mobile:!0},{docField:"AssetID",headerName:"Asset ID",key:"4",filterable:!1,visible:!0,mobile:!0},{docField:"Type",headerName:"Type",key:"5",filterable:!0,visible:!1},{docField:"Status",headerName:"Status",key:"6",filterable:!0,visible:!1}],serviceMobileGridColumns:[{docField:"Vendor",headerName:"Vendor",key:"1",filterable:!0},{docField:"LocationName",headerName:"Location",key:"3",filterable:!0,mobile:!0},{docField:"AssetID",headerName:"Asset ID",key:"4",filterable:!1,mobile:!0},{docField:"Type",headerName:"Type",key:"5",filterable:!0}],serviceGroupByFields:[{Label:"Vendor",Value:"Vendor"},{Label:"Type",Value:"Type"},{Label:"Location",Value:"LocationName"},{Label:"Status",Value:"Status"},{Label:"Account",Value:"AccountNum"},{Label:"Tags",Value:"Tags"}],locationGridColumns:[{docField:"Name",headerName:"Location Name",key:"1",filterable:!1},{docField:"Address1",headerName:"Address 1",key:"2",filterable:!1},{docField:"City",headerName:"City",key:"4",filterable:!0},{docField:"State",headerName:"State",key:"5",filterable:!0},{docField:"Zip",headerName:"Zip",key:"6",filterable:!0}],locationMobileGridColumns:[{docField:"Name",headerName:"Location Name",key:"1",filterable:!1},{docField:"City",headerName:"City",key:"4",filterable:!0},{docField:"State",headerName:"State",key:"5",filterable:!0}],locationGroupByFields:[{Label:"City",Value:"City"},{Label:"State",Value:"State"},{Label:"Zip",Value:"Zip"}],locationDetailFields:B,ticketGridColumns:[{docField:"TicketNum",headerName:"Ticket",key:"2",filterable:!1},{docField:"LocationName",headerName:"Location",key:"3",filterable:!0},{docField:"Type",headerName:"Type",key:"4",filterable:!0},{docField:"Details",headerName:"Details",key:"5",filterable:!1,visible:!1},{docField:"Status",headerName:"Status",key:"1",filterable:!0}],ticketGroupByFields:[{Label:"Type",Value:"Type"},{Label:"Location",Value:"LocationName"},{Label:"Vendor",Value:"Vendor"},{Label:"Status",Value:"Status"}],ticketMobileGridColumns:[{docField:"Status",headerName:"Status",key:"1",filterable:!0},{docField:"TicketNum",headerName:"Ticket",key:"2",filterable:!1},{docField:"LocationName",headerName:"Location",key:"3",filterable:!0},{docField:"Type",headerName:"Type",key:"4",filterable:!0},{docField:"Details",headerName:"Details",key:"5",filterable:!1}],orderGridColumns:[{docField:"OrderDate",headerName:"Date",key:"1",filterable:!0},{docField:"Vendor",headerName:"Vendor",key:"2",filterable:!0},{docField:"VendorServiceName",headerName:"Product",key:"3",filterable:!0},{docField:"LocationName",headerName:"Location",key:"4",filterable:!0},{docField:"OrderNum",headerName:"Order Number",key:"5",filterable:!1}],orderGroupByFields:[{Label:"Vendor",Value:"Vendor"},{Label:"Status",Value:"Status"},{Label:"Location",Value:"LocationName"}],orderMobileGridColumns:[{docField:"OrderDate",headerName:"Date",key:"1",filterable:!0},{docField:"Vendor",headerName:"Vendor",key:"2",filterable:!0},{docField:"VendorServiceName",headerName:"Product",key:"3",filterable:!0},{docField:"LocationName",headerName:"Location",key:"4",filterable:!0},{docField:"OrderNum",headerName:"Order Number",key:"5",filterable:!1}],accountGridColumns:[{docField:"Vendor",headerName:"Vendor",key:"1",filterable:!0,visible:!0,mobile:!0},{docField:"AccountNum",headerName:"Account",key:"2",filterable:!1,visible:!0,mobile:!1},{docField:"PostTaxMRC",headerName:"Cost",key:"5",filterable:!1,visible:!0,mobile:!0,type:"currency"}],accountGroupByFields:[{Label:"Vendor",Value:"Vendor"},{Label:"All",Value:""}],accountMobileGridColumns:[{docField:"Vendor",headerName:"Vendor",key:"1",filterable:!0,visible:!0,mobile:!0},{docField:"AccountNum",headerName:"Account",key:"2",filterable:!1,visible:!0,mobile:!1},{docField:"PostTaxMRC",headerName:"Cost",key:"5",filterable:!1,visible:!0,mobile:!0,type:"currency"}],userGridColumns:[{docField:"FirstName",headerName:"First Name",key:"3"},{docField:"LastName",headerName:"Last Name",key:"2"},{docField:"Email",headerName:"Email",key:"1"}],userDetailFields:[{label:"Email Address",dataField:"Email",inputFieldType:"text",tab:"Essentials"},{label:"First Name",dataField:"FirstName",inputFieldType:"text",tab:"Essentials"},{label:"Last Name",dataField:"LastName",inputFieldType:"text",tab:"Essentials"},{label:"Type",dataField:"Type",inputFieldType:"select",inputSource:[{Name:"User",Value:"User"},{Name:"Agent",Value:"Agent"}],inputID:"Name",inputValue:"Value",tab:"Essentials"}],userProfileFields:[{label:"Email Address",dataField:"Email",inputFieldType:"text",tab:"Essentials"},{label:"Change Password",dataField:"Password",inputFieldType:"button",tab:"Essentials"},{label:"Recent Changes",dataField:"",inputFieldType:"recent-changes-list",tab:"Essentials"},{label:"Tags",dataField:"Tags",inputFieldType:"array-map-list",relatedInputFields:[{label:"Tag",dataField:"Tag",inputFieldType:"text"}],tab:"Essentials"}],contractGridColumns:[{docField:"Vendor",headerName:"Vendor",key:"1"},{docField:"Date",headerName:"Date",key:"2"},{docField:"Term",headerName:"Term",key:"3"},{docField:"Details",headerName:"Details",key:"4"}],contractMobileGridColumns:[{docField:"Vendor",headerName:"Vendor",key:"1"},{docField:"Date",headerName:"Date",key:"2"}],contractDetailFields:U,contractGroupByFields:[{Label:"Vendor",Value:"Vendor"},{Label:"All",Value:""}],serviceDetailFields:V,ticketDetailFields:L,accountDetailFields:w,orderDetailFields:E,billsDetailFields:R,contactDetailFields:[{label:"First Name",dataField:"FirstName",inputFieldType:"text",tab:"Essentials"},{label:"Last Name",dataField:"LastName",inputFieldType:"text",tab:"Essentials"},{label:"Company Name",dataField:"CompanyName",inputFieldType:"text",tab:"Essentials"},{label:"Title/Position",dataField:"Title",inputFieldType:"text",tab:"Essentials"},{label:"Phone",dataField:"Phone",inputFieldType:"text",tab:"Essentials"},{label:"Email",dataField:"Email",inputFieldType:"text",tab:"Essentials"}],eventDetailFields:[{label:"Event",dataField:"EventName",inputFieldType:"text",tab:"Essentials"},{label:"Date",dataField:"Date",inputFieldType:"datepicker",tab:"Essentials"},{label:"Type",dataField:"Type",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"TTU",Value:"TTU"},{Name:"LAN Migration",Value:"LAN Migration"},{Name:"MACD Completion",Value:"MACD Completion"},{Name:"Activation",Value:"Activation"},{Name:"Billing Start",Value:"Billing Start"}],tab:"Essentials"}],fetchCore:T,core:c,setCore:s},children:e.children})},L=Object(n.createContext)();function w(){return Object(n.useContext)(L)}function E(e){var t=e.children,a=Object(n.useState)(),l=Object(j.a)(a,2),i=l[0],c=l[1],s=Object(n.useState)(!0),r=Object(j.a)(s,2),d=(r[0],r[1]),o=Object(n.useContext)(S);var p=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(O.c)(v,(function(e){c(e),o.setCurrentUser(e&&e.email),d(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){p()}),[]);var m={currentUser:i,signup:function(e,t){return Object(O.a)(v,e,t)},login:function(e,t){return Object(O.d)(v,e,t)},logOutUser:function(){c()}};return Object(C.jsx)(L.Provider,{value:m,children:t})}var R=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(n.useRef)(),i=w().signup,c=Object(r.f)(),s=Object(n.useState)(""),d=Object(j.a)(s,2),o=d[0],p=d[1],m=Object(n.useState)(!1),O=Object(j.a)(m,2),h=O[0],x=O[1],f=Object(n.useState)(!0),N=Object(j.a)(f,2),v=N[0],F=N[1];function y(){return(y=Object(b.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a.current.value===l.current.value){e.next=3;break}return e.abrupt("return",p("Passwords do not match"));case 3:return e.prev=3,p(""),x(!0),e.next=8,i(t.current.value,a.current.value);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),p("Failed to create an account");case 13:x(!1),c("/login"),S();case 16:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var S=function(){F(!1)};return Object(C.jsxs)("div",{className:!0===v?"modal is-active":"modal",children:[Object(C.jsx)("div",{className:"modal-background"}),Object(C.jsxs)("div",{className:"modal-card",children:[Object(C.jsx)("div",{className:"modal-card-head",children:"Register"}),Object(C.jsxs)("div",{className:"modal-card-body",children:[Object(C.jsxs)("form",{children:[Object(C.jsx)("label",{children:"Email"}),Object(C.jsx)("input",{className:"input",type:"email",ref:t}),Object(C.jsx)("label",{children:"Password"}),Object(C.jsx)("input",{className:"input",type:"password",ref:a}),Object(C.jsx)("label",{children:"Confirm Password"}),Object(C.jsx)("input",{className:"input",type:"password",ref:l})]}),Object(C.jsx)("div",{className:"block",children:Object(C.jsx)("div",{className:"notification is-danger is-hidden",children:o})}),Object(C.jsxs)("div",{className:"modal-card-foot",children:[Object(C.jsx)("button",{className:!0!==h?"button is-rounded is-link is-link level-item":"button is-loading",type:"submit",disabled:h,onClick:function(e){return y.apply(this,arguments)},children:"Register"}),Object(C.jsx)("button",{className:"button is-rounded",onClick:function(){return c("/login")},children:"Login"})]}),Object(C.jsx)("button",{className:"modal-close is-large","aria-label":"close",onClick:S})]})]})]})},B=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0];t[1];return Object(C.jsx)("div",{className:"hero is-medium",children:Object(C.jsxs)("div",{className:"hero-body",children:[!0===a?Object(C.jsx)(R,{modalState:a}):"",Object(C.jsx)("div",{className:"title has-text-weight-bold",children:" Telecom is hard... "}),Object(C.jsx)("div",{className:"subtitle has-text-weight-light",children:"Managing it shouldn't be!"}),Object(C.jsx)("div",{className:"notification is-light is-parent is-hidden",children:Object(C.jsxs)("div",{className:"content is-medium",children:[Object(C.jsx)("span",{className:"has-text-weight-semibold is-uppercase has-text-black",children:"Think of this as your telecom passport"}),Object(C.jsxs)("div",{className:"content is-small has-text-black",children:[Object(C.jsx)("a",{children:"Join our quest"})," to bring a single source of truth to Telecom Asset, Billing and Service management where leveraging existing service and billing data will drive more informed purchasing decisions and roadmap adoption."]})]})})]})})},U=a(24),M=function(e){var t=e.isActive,a=e.params,n=e.children;return Object(C.jsx)("div",{className:t&&!0===t?"dropdown is-active ".concat(a):"dropdown",children:n})},P=function(e){var t=e.children;return Object(C.jsx)("div",{className:"dropdown-trigger",children:t})},_=function(e){var t=e.params,a=e.label,n=(e.toggle,e.onClick);e.isActive;return Object(C.jsx)("button",{className:"button ".concat(t),"aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:n,onBlur:n,children:Object(C.jsxs)("span",{className:"icon-text",children:[Object(C.jsx)("span",{className:"has-text-weight-semibold",children:a}),Object(C.jsx)("span",{className:"icon",children:Object(C.jsx)(U.a,{})})]})})},G=function(e){var t=e.children;return Object(C.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:Object(C.jsx)("div",{className:"dropdown-content",children:t})})},z=function(e){var t=e.children;return Object(C.jsx)("div",{className:"dropdown-content",children:t})},H=function(e){var t=e.params,a=e.children;return Object(C.jsx)("div",{className:"field ".concat(t),children:a})},K=function(e){var t=e.params,a=e.children;return Object(C.jsx)("p",{className:"control ".concat(t),children:a})},Z=function(e){var t=e.currentCompany,a=e.companies,n=e.isActive,l=e.handleClick,i=e.handleToggle;Object(r.f)();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(H,{params:"has-addons",children:Object(C.jsx)(K,{params:"is-expanded",children:Object(C.jsxs)(M,{isActive:n,children:[Object(C.jsx)(P,{children:Object(C.jsx)(_,{label:t,onClick:i,isActive:n,params:"is-rounded shaded"})}),Object(C.jsx)(G,{children:Object(C.jsx)(z,{children:a&&a.map((function(e){return Object(C.jsx)("a",{className:t===e.Name?"dropdown-item is-active":"dropdown-item",onClick:function(){return l({id:e.id,name:e.Name})},children:e.Name},e.id)}))})})]})})}),Object(C.jsxs)("div",{className:"is-hidden",children:[Object(C.jsx)("div",{className:"dropdown-trigger ",children:Object(C.jsxs)("div",{className:"input",onClick:i,children:[Object(C.jsx)("span",{className:"pr-1",children:Object(C.jsx)("strong",{children:t})}),Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)(U.b,{onClick:i,style:{marginTop:"auto"},className:!0===n?"icon":"is-hidden"}),Object(C.jsx)(U.a,{onClick:i,style:{marginTop:"auto"},className:!1===n?"icon":"is-hidden"})]})]})}),Object(C.jsx)("div",{className:"dropdown-menu",children:Object(C.jsxs)("div",{className:"dropdown-content",children:[Object(C.jsx)("button",{className:"dropdown-item",onClick:function(){return history.push("/addcompany")},children:"Add a company"}),Object(C.jsx)("hr",{className:"dropdown-divider"}),a&&a.map((function(e){return Object(C.jsx)("a",{className:t===e.Name?"dropdown-item is-active":"dropdown-item",onClick:function(){return l({id:e.id,name:e.Name})},children:e.Name},e.id)}))]})})]})]})},Y=function(){var e=Object(r.f)(),t=Object(n.useContext)(S),a=t.setCurrentCompany,l=t.setCurrentCompanyID,i=t.setDataLoading,c=t.userSession,s=c.dataLoading,d=c.currentUser,o=c.userType,u=c.companies,b=c.currentCompany,p=(c.currentCompanyID,Object(n.useState)({id:"",Name:""})),m=Object(j.a)(p,2),O=(m[0],m[1],Object(n.useState)(!1)),h=Object(j.a)(O,2),x=h[0],f=h[1],N=Object(n.useRef)(""),v=Object(n.useRef)(""),F=void 0!=d?d:"";Object(n.useEffect)((function(){}),[F]),Object(n.useEffect)((function(){t.setDataLoading(!1)}),[s]);return Object(C.jsxs)(C.Fragment,{children:["Admin"===o?Object(C.jsx)("div",{children:Object(C.jsx)(Z,{isActive:x,handleClick:function(e){var n=e.id,c=e.name;t.setDataLoading(!0),N.current=n,v.current=c,l(n),a(c),i(!1),f(!x)},handleToggle:function(){f(!x)},companies:u,currentCompany:b})}):Object(C.jsx)("span",{className:"title has-text-black",children:b}),null===u?Object(C.jsx)("button",{className:"button is-rounded is-link",onClick:function(){return e("/addcompany")},children:"Add a Company Name"}):null]})},q=function(e){var t=e.options,a=e.children;return Object(C.jsx)("div",{className:"columns ".concat(t),children:a})},W=function(e){var t=e.options,a=e.size,n=e.isVisible,l=e.children;return Object(C.jsx)("div",{className:0!=n?"column ".concat(t," ").concat(a):"column is-hidden",children:l})},$=function(e){var t=e.active,a=e.children;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:0!=t?"modal is-active":"modal",children:Object(C.jsx)("div",{className:"loading"})}),a]})},J=a(17),Q=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)([]),c=Object(j.a)(i,2),s=c[0],r=c[1];Object(n.useEffect)((function(){var e=s.sortBy,t=s.data,a=d(e,t);l(a)}),[s]);var d=function(e,t){var a=t&&t.sort((function(t,a){return t[e]>a[e]?1:-1}));l(a)};return{sortedArr:a,setArr:r}},X=function(e){var t=e.isVisible,a=e.children;return Object(C.jsx)("div",{className:0!=t?" is-family-sans-serif is-size-7 has-text-weight-light pl-4":"is-hidden",children:a})},ee=(a(121),a(6)),te=a(376),ae=function(e){return Object(C.jsx)(te.a,{anchor:e.direction,open:e.checked,onClose:e.handleClose,children:Object(C.jsxs)("div",{className:"drawer-paper-full",children:[Object(C.jsxs)(q,{options:"is-mobile is-vcentered",children:[Object(C.jsx)(W,{size:"is-narrow",children:Object(C.jsx)("div",{className:"icon is-large",children:Object(C.jsx)(U.c,{className:"icon pl-1 mx-2 my-2",onClick:function(){return e.handleClose()}})})}),Object(C.jsx)(W,{children:Object(C.jsx)("span",{className:"title",children:Object(C.jsx)("div",{className:"donotwrap",children:e.title})})})]}),Object(C.jsx)("div",{children:e.children})]})})},ne=[{label:"Name",type:"text",key:"Name",value:"",params:{header:!0,visible:!0,tab:"Essentials"}},{label:"Phone",type:"telephone",key:"Phone",value:""},{label:"Users",type:"ref",key:"Users",ref:{collection:"Users",key:"Companies",value:"id",type:"query",fields:["Email","FirstName","LastName"]},params:{header:!1,visible:!0,tab:"Users"}},{label:"Locations",type:"ref",key:"Locations",ref:{collection:"Locations",key:"CompanyID",value:"",type:"query",fields:["Name","Address1"]},params:{header:!1,visible:!0,tab:"Locations"}}];function le(){var e=Object(n.useContext)(S),t=e.refreshServices,a=e.refreshOrders,l=e.refreshTickets,i=e.refreshLocations,c=e.refreshAccounts,s=e.refreshBills,r=e.refreshUsers,d=e.refreshContracts,o=e.refreshNotes;e.userSession.currentModule;return{refreshModule:function(e){switch(e){case"Services":return t();case"Accounts":return c();case"Orders":return a();case"Tickets":return l();case"Locations":return i();case"Contracts":return d();case"Bills":return s();case"Notes":return o();case"Users":return r()}}}}var ie=function(e){var t=e.title,a=e.children;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(q,{options:"is-mobile is-vcentered",children:[Object(C.jsx)(W,{size:"is-narrow"}),Object(C.jsx)(W,{children:Object(C.jsx)("span",{className:"title",children:Object(C.jsx)("div",{className:"donotwrap",children:t})})})]}),Object(C.jsx)("div",{children:a})]})},ce=function(e){var t=e.title,a=e.checked,n=e.handleClose,l=e.direction,i=e.hideBtns,c=e.handleSubmit,s=e.children;return Object(C.jsx)(te.a,{anchor:l,open:a,onClose:n,children:Object(C.jsxs)("div",{className:"drawerPaper",children:[Object(C.jsx)("div",{className:"mb-2",children:Object(C.jsx)("div",{className:"title",children:t&&t})}),Object(C.jsxs)("div",{className:!0===i?"is-hidden":"mb-2",children:[Object(C.jsx)("button",{className:"button is-rounded is-link",type:"submit",onClick:c,children:"Save"}),Object(C.jsx)("button",{className:"button is-rounded ml-2",onClick:n,children:"Close"})]}),s,Object(C.jsxs)("div",{className:!0===i?"is-hidden":"drawer-footer-menu mb-2",children:[Object(C.jsx)("button",{className:"button is-rounded is-link",type:"submit",onClick:c,children:"Save"}),Object(C.jsx)("button",{className:"button is-rounded ml-2",onClick:n,children:"Close"})]})]})})},se=function(e){var t=e.data,a=e.colRef,n=e.headerFields,l=e.handleClick,i=e.handleDelete;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("table",{className:"table is-hoverable is-bordered is-fullwidth",children:[Object(C.jsx)("thead",{className:"is-size-6",children:Object(C.jsx)("tr",{children:n&&n.map((function(e){return Object(C.jsx)("th",{style:{width:"20%"},children:e.label&&e.label},e.keyProp)}))})}),Object(C.jsx)("tbody",{className:"is-size-6",children:t&&void 0!=t?t.map((function(e,c){return Object(C.jsxs)("tr",{children:[n&&n.map((function(t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("td",{className:"py-2",style:{width:"20%"},name:t.relatedCollection,value:e[t.dataField],children:void 0===e[t.dataField]?"--":Object(C.jsxs)("a",{onClick:function(t){return l({key:c,colRef:a,id:e.id})},children:["currency"===t.inputFieldType?"$":""," ",e[t.dataField]]})},e[t.label])})})),void 0!=i?Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"delete is-small",onClick:function(){return i(c,t,n)},children:"x"})}):""]},e.id)})):""})]})})},re=function(e){var t=e.data,a=e.colRef,n=(e.helperColRef,e.headerFields),l=e.handleClick,i=e.handleDelete;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(C.jsx)("thead",{className:"is-size-6",children:Object(C.jsx)("tr",{children:n&&n.map((function(e){return Object(C.jsx)("th",{style:{width:"30%"},children:e.label&&e.label},e.keyProp)}))})}),Object(C.jsx)("tbody",{className:"relatedTableMapList",children:t&&void 0!=t?t.map((function(e,c){return Object(C.jsxs)("tr",{children:[n&&n.map((function(t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("td",{className:"py-2",style:{width:"20%"},name:t.relatedCollection,value:e[t.dataField],children:void 0===e[t.dataField]?"--":Object(C.jsxs)("a",{onClick:function(t){return l({key:c,colRef:a,id:e.id})},children:["currency"===t.inputFieldType?"$":""," ",e[t.dataField]]})},e[t.label])})})),void 0!=i?Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"delete is-small",onClick:function(){return i(c,t,n)},children:"x"})}):""]},e.id)})):""})]})})},de=function(e){var t=e.data,a=e.handleTagDelete;return Object(C.jsx)("div",{className:"field is-grouped is-grouped-multiline",children:Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("div",{className:"tags",children:t?t.map((function(e){return Object(C.jsxs)("span",{className:"tag is-rounded",children:[e,Object(C.jsx)("button",{className:"delete is-hidden",onClick:function(){return a()}})]})})):null})})})},oe=function(e){return Object(C.jsxs)("div",{className:"input text-field is-hidden-tablet",children:[Object(C.jsx)("div",{className:"text-field-label has-text-link",children:e.label}),Object(C.jsx)("div",{className:"text-field-input",children:Object(C.jsx)("input",{className:"input is-static has-text-weight-semi-bold",placeholder:e.label,value:e.value,readOnly:!0})})]})},ue=function(e){return Object(C.jsxs)("div",{className:"input text-field is-hidden-tablet",children:[Object(C.jsx)("div",{className:"text-field-label has-text-link",children:e.label}),Object(C.jsx)("div",{className:"text-field-input",children:Object(C.jsx)("p",{className:"has-text-weight-semi-bold",placeholder:e.label,children:e.value})})]})},be=function(e){var t=e.isVisible,a=e.bgColor,n=e.txtColor,l=e.children;return Object(C.jsx)("header",{className:1!=t?"is-hidden":"card-footer ".concat(a&&a," ").concat(n&&n),children:l})},je=function(e){var t=e.isCentered,a=e.children;return Object(C.jsx)("p",{className:!0===t?"card-header-title is-centered":"card-header-title",children:a})},pe=function(e){var t=e.noShadow,a=e.children;return Object(C.jsx)("div",{className:!0===t?"card is-shadowless":"card",children:a})},me=function(e){var t=e.children;return Object(C.jsx)("div",{className:"card-content",children:t})},Oe=function(e){var t=e.loading,a=e.field,n=e.fieldData,l=e.relatedDataMap,i=e.handleClick,c=e.handleRelatedDrawer,s=e.handleArrayMapDrawer,d=e.handleDocRelations,o=e.handleArrayMapDelete;Object(r.f)();return Object(C.jsx)(C.Fragment,{children:a&&[a].map((function(e){switch(e.inputFieldType){case"text":default:return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"is-hidden-mobile",children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-4-mobile is-3-tablet is-3-desktop is-2-fullhd",children:Object(C.jsx)("div",{children:a.label},a.label)}),Object(C.jsx)(W,{size:"1 is-narrow",children:":"}),Object(C.jsx)(W,{size:"7",children:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))})]})}),Object(C.jsx)(oe,{label:a.label,value:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))})]})});case"related-array-map":return Object(C.jsxs)(pe,{noShadow:!1,children:[Object(C.jsx)(be,{children:Object(C.jsx)(je,{children:e.label})}),Object(C.jsxs)(me,{children:[Object(C.jsx)("a",{onClick:function(){return d(a)},children:"Link Related "}),Object(C.jsx)(re,{headerFields:e.columns,data:e.inputSource,colRef:e.relatedCollection,helperCollection:e.helperCollection,handleClick:function(e){return c(e)},handleDelete:function(e,t){return o(e,t)}})]})]});case"text-area":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"is-hidden-mobile",children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-4-mobile is-3-tablet is-3-desktop is-2-fullhd",children:Object(C.jsx)("div",{children:a.label},a.label)}),Object(C.jsx)(W,{size:"1 is-narrow",children:":"}),Object(C.jsx)(W,{size:"7",children:Object(C.jsx)("div",{className:"textareafield",children:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))})})]})}),Object(C.jsx)(oe,{label:a.label,value:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))})]})});case"currency":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"is-hidden-mobile",children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-4-mobile is-3-tablet is-3-desktop is-2-fullhd",children:Object(C.jsx)("div",{children:a.label},a.label)}),Object(C.jsx)(W,{size:"1 is-narrow",children:":"}),Object(C.jsxs)(W,{size:"7",children:["$ ",[n].map((function(t){return t[e.dataField]&&""!=t[e.dataField]?t[e.dataField]:"--"}))]})]})}),Object(C.jsx)(oe,{label:a.label,value:"$ ".concat([n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"})))})]})});case"related-select":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"is-hidden-mobile",children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-4-mobile is-3-tablet is-3-desktop is-2-fullhd",children:Object(C.jsx)("div",{children:a.label},a.label)}),Object(C.jsx)(W,{size:"1 is-narrow",children:":"}),Object(C.jsx)(W,{size:"7",children:n&&"Location"===e.relatedDataType?""!=e.inputSource?e.inputSource.filter((function(t){return t.id===n[e.relatedDataField]})).map((function(e){return Object(C.jsxs)("table",{children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:Object(C.jsx)("th",{children:e.Name})})}),Object(C.jsx)("tbody",{children:void 0!=e?Object(C.jsx)("div",{className:"is-size-6",children:"\n                                      ".concat(e.Address1||""," \n                                      ").concat(e.Address2||""," \n                                      ").concat(e.City||"",", \n                                      ").concat(e.State||""," \n                                      ").concat(e.Zip||"","\n                                    ")},e.id):"Full Address not entered"})]})})):null:n&&"Account"===e.relatedDataType?Object(C.jsx)("a",{onClick:function(t){return i({colRef:"Accounts",id:n[e.relatedDataField]})},children:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))}):n&&"Service"===e.relatedDataType?Object(C.jsx)("a",{onClick:function(t){return i({colRef:"Services",id:n[e.relatedDataField]})},children:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))}):n&&"Order"===e.relatedDataType?Object(C.jsx)("a",{onClick:function(t){return i({colRef:"Orders",id:n[e.relatedDataField]})},children:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))}):null})]})}),Object(C.jsx)(ue,{label:a.label,value:n&&"Location"===e.relatedDataType?""!=e.inputSource?e.inputSource.filter((function(t){return t.id===n[e.relatedDataField]})).map((function(e){return void 0!=e?Object(C.jsxs)("p",{className:"donotwrapfield is-hidden-tablet",children:[e.Name," -","\n                                  ".concat(e.Address1||""," \n                                  ").concat(e.Address2||""," \n                                  ").concat(e.City||"",", \n                                  ").concat(e.State||""," \n                                  ").concat(e.Zip||"","\n                                ")]},e.id):"Full Address not entered"})):null:n&&"Account"===e.relatedDataType?Object(C.jsx)("a",{onClick:function(t){return i({colRef:"Accounts",id:n[e.relatedDataField]})},children:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))}):n&&"Service"===e.relatedDataType?Object(C.jsx)("a",{onClick:function(t){return i({colRef:"Services",id:n[e.relatedDataField]})},children:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))}):n&&"Order"===e.relatedDataType?Object(C.jsx)("a",{onClick:function(t){return i({colRef:"Orders",id:n[e.inputID]})},children:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))}):null})]})});case"map-list":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(q,{options:"is-mobile is-centered is-multiline",children:[Object(C.jsx)(W,{size:"is-12",children:Object(C.jsxs)("div",{children:[a.label,Object(C.jsx)("a",{className:"link has-text-weight-normal is-size-7 pl-2",onClick:function(){return c(a)},children:"(add)"})]},a.label)}),Object(C.jsx)(W,{size:"is-12",children:Object(C.jsx)(se,{headerFields:e.relatedInputFields,data:l,colRef:e.relatedCollection,handleClick:function(e){return i(e)}})})]})})});case"array-map-list":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(q,{options:"is-mobile is-multiline",children:[Object(C.jsx)(W,{size:"is-12",children:Object(C.jsxs)("div",{children:[a.label,Object(C.jsx)("a",{className:"link has-text-weight-normal is-size-7 pl-2",onClick:function(){return s(a)},children:"(add)"})]},a.label)}),Object(C.jsx)(W,{size:"is-12",children:Object(C.jsx)(se,{headerFields:e.relatedInputFields,data:n[e.dataField],colRef:e.relatedCollection,handleClick:function(e){return s(e)},handleDelete:function(e,t){return o(e,t)}})})]})})});case"status":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"is-hidden-mobile",children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-4-mobile is-3-tablet is-3-desktop is-2-fullhd",children:Object(C.jsx)("div",{children:a.label},a.label)}),Object(C.jsx)(W,{size:"1 is-narrow",children:":"}),Object(C.jsx)(W,{size:"7",children:[n].map((function(t){return""!=t[e.dataField]?Object(C.jsx)("div",{className:"Active"===t[e.dataField]?"button is-success":"Disconnected"===t[e.dataField]?"button is-danger":(t[e.dataField],"button is-warning"),children:t[e.dataField]},t[e.label]):"--"}))})]})}),Object(C.jsx)(oe,{label:a.label,value:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))})]})});case"tags":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"is-hidden-mobile",children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-4-mobile is-3-tablet is-3-desktop is-2-fullhd",children:Object(C.jsx)("div",{children:a.label},a.label)}),Object(C.jsx)(W,{size:"1 is-narrow",children:":"}),Object(C.jsx)(W,{size:"7",children:[n].map((function(t){return""!=t[e.dataField]?Object(C.jsx)(de,{data:t[e.dataField]}):"--"}))})]})}),Object(C.jsx)(oe,{label:a.label,value:[n].map((function(t){return""!=t[e.dataField]?t[e.dataField]:"--"}))})]})});case"file-field":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-4-mobile is-3-tablet is-3-desktop is-2-fullhd",children:Object(C.jsx)("div",{children:a.label},a.label)}),Object(C.jsx)(W,{size:"1 is-narrow",children:":"}),Object(C.jsx)(W,{size:"7",children:[n].map((function(t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("a",{href:t[e.dataField],target:"_blank",children:Object(C.jsx)(U.i,{className:"icon is-medium"})})})}))})]})})})}}))})},he=function(e){var t=e.data,a=(e.colRef,e.headers);e.handleClick,e.handleDelete;return Object(C.jsx)(C.Fragment,{children:a&&a.map((function(e){return Object(C.jsx)("div",{className:"list",children:Object(C.jsx)(C.Fragment,{children:t&&void 0!=t?t.map((function(e,t){a&&a.map((function(t){return Object(C.jsx)("div",{className:"list-item",children:(null===e||void 0===e?void 0:e[t])||"--"})}))})):""})})}))})},xe=function(e){var t=e.loading,a=e.field,l=e.fieldData,i=(e.relatedDataMap,e.handleClick,e.handleRelatedDrawer,e.handleArrayMapDrawer),c=(e.handleDocRelations,e.handleArrayMapDelete),s=Object(n.useContext)(S).userSession,r=function(e){return s[e]};return Object(C.jsx)(C.Fragment,{children:a&&[a].map((function(e){var n,s;switch(e.type){case"text":case"textarea":case"datepicker":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("dt",{children:a.label}),Object(C.jsx)("dd",{children:[l].map((function(t){return""!=t[e.key]?t[e.key]:"--"}))})]})});case"currency":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("dt",{children:a.label}),Object(C.jsxs)("dd",{children:["$ ",[l].map((function(t){return""!=t[e.key]?t[e.key]:"--"}))]})]})});case"datalist":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("label",{children:a.label}),Object(C.jsx)(he,{headers:null===e||void 0===e||null===(n=e.ref)||void 0===n?void 0:n.fields,data:l[null===e||void 0===e?void 0:e.key],colRef:r(e.collection),handleClick:function(e){return i(e)},handleDelete:function(e,t){return c(e,t)}})]})});case"related-select":return Object(C.jsx)(C.Fragment,{children:!0===t?Object(C.jsx)("input",{className:"input is-rounded is-small",disabled:!0}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("dt",{children:a.label}),null===e||void 0===e||null===(s=e.ref)||void 0===s?void 0:s.fields.map((function(t){var a,n;return null===(a=r(e.collection))||void 0===a||null===(n=a.filter((function(t){return t.id===l[e.key]})))||void 0===n?void 0:n.map((function(e){return Object(C.jsx)("dd",{children:e[t]})}))}))]})})}}))})},fe=function(e){var t=e.children;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"tabs",children:Object(C.jsx)("ul",{children:t})})})},Ne=function(e){var t,a,n=e.data,l=e.handleClick,i=e.active,c=(e.children,void 0!=n?n.filter((function(e){return void 0!=e.tab})):""),s=void 0!=n?(a="tab",(t=c)&&t.reduce((function(e,t){var n=t[a];return e[n]?e[n].push(t):e[n]=[],e}),{})):"",r=Object.keys(s);return Object(C.jsx)(C.Fragment,{children:r.filter((function(e){return void 0!=e})).map((function(e){return Object(C.jsx)("li",{className:i==e?"is-active":"",children:Object(C.jsx)("a",{className:"tab",onClick:function(){return l(e)},children:e})})}))})},ve=function(e){return Object(C.jsxs)("div",{className:"modal is-active is-relative",children:[Object(C.jsx)("div",{className:"modal-background"}),Object(C.jsxs)("div",{className:"modal-card",children:[Object(C.jsx)("div",{className:"modal-card-head",children:Object(C.jsx)("div",{className:"modal-card-title",children:e.header})}),Object(C.jsx)("div",{className:"modal-card-body",children:e.children})]})]})},Fe=function(e){var t=e.colRef,a=e.docRef,l=e.size,i=e.isIcon,c=Object(r.f)(),s=Object(n.useState)(!1),d=Object(j.a)(s,2),o=d[0],p=d[1],m=Object(n.useState)(!1),O=Object(j.a)(m,2),h=(O[0],O[1],Object(n.useState)()),x=Object(j.a)(h,2),f=x[0],N=x[1],v=Object(n.useState)(),y=Object(j.a)(v,2),S=y[0],T=y[1],D=function(){var e=Object(b.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection(t).doc(a).delete();case 3:n=e.sent,console.log(n),N("Successfully Deleted Record"),I(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),T("Error Deleting Record");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),I=function(){setTimeout((function(){c("/dashboard")}),1500)},g=function(){p(!o)};return Object(C.jsxs)(C.Fragment,{children:[i&&1!=i?Object(C.jsx)("button",{className:"button is-danger is-rounded mx-1 ".concat(l),onClick:function(){g()},children:"Delete"}):Object(C.jsx)(U.s,{className:"icon is-danger is-medium",onClick:function(){g()}}),0!=o?Object(C.jsxs)(ve,{header:"Confirm Delete",children:[f&&Object(C.jsx)("div",{className:"notification is-success",children:f}),S&&Object(C.jsx)("div",{className:"notification is-danger",children:S}),Object(C.jsx)("button",{className:"button is-rounded is-danger mr-3",onClick:function(){D()},children:"Delete"}),Object(C.jsx)("button",{className:"button is-rounded",onClick:function(){g()},children:"Cancel"})]}):""]})},ye=function(e){var t=e.isActive,a=e.handleToggle,n=e.views,l=e.activeView,i=e.handleView,c=e.value,s=e.title,d=(e.handleEditDrawer,Object(r.f)(),Object(r.g)());d.isModule,d.id;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"box is-rounded mx-2 is-12",children:Object(C.jsxs)("nav",{className:"level",children:[Object(C.jsxs)("div",{className:"content",children:[Object(C.jsx)("span",{className:"is-size-6",children:s}),Object(C.jsx)("br",{}),Object(C.jsx)("span",{className:"is-size-4 title",children:c})]}),Object(C.jsxs)("div",{className:!0===t?"dropdown is-active":"dropdown",children:[Object(C.jsx)("div",{className:"dropdown-trigger",children:Object(C.jsxs)("div",{className:"pl-1",onClick:a,children:[Object(C.jsx)("span",{className:"pr-1",children:l&&l}),Object(C.jsxs)("span",{className:"icon pl-1",children:[Object(C.jsx)(U.f,{onClick:a,style:{marginTop:"auto"},className:!0===t?"icon is-small":"is-hidden"}),Object(C.jsx)(U.e,{onClick:a,style:{marginTop:"auto"},className:!1===t?"icon is-small":"is-hidden"})]})]})}),Object(C.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:Object(C.jsxs)("div",{className:"dropdown-content",children:[n.map((function(e){return Object(C.jsx)("a",{className:"dropdown-item",onClick:function(){return i(e)},children:e})})),Object(C.jsx)("hr",{className:"dropdown-divider"})]})})]})]})})})},Ce=function(e){var t=e.title,a=e.value,n=e.handleChange,l=e.name,i=e.hide,c=e.hint,s=e.handleAddValue,r=e.showAddLink,d=e.field,o=e.children;return Object(C.jsxs)("div",{className:"field",children:[Object(C.jsxs)("label",{className:"label",children:[t&&t,!0===r?Object(C.jsx)("a",{className:"link is-size-7 pl-1",onClick:function(){return s(d)},children:"(add)"}):""]}),Object(C.jsxs)("div",{className:"control",children:[Object(C.jsx)("div",{className:1!=i?"select is-rounded is-fullwidth ":"is-hidden",children:Object(C.jsx)("select",{type:"select",name:l&&l,defaultValue:a&&a,onChange:n,children:o})}),c&&Object(C.jsxs)(X,{children:[" ",c]})]})]})},Se=function(e){var t=e.title,a=e.value,n=e.type,l=e.name,i=e.fieldChanged,c=e.hint,s=e.addOn;return Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:t}),Object(C.jsxs)("div",{className:void 0!=s?"control has-icons-left":"control",children:["currency"===s?Object(C.jsx)("i",{className:"icon is-left",children:Object(C.jsx)(U.h,{})}):"",Object(C.jsx)("input",{type:void 0!=n?n:"text",className:"input is-rounded ",name:l,value:a,onChange:function(e){return i(e)}})]}),c&&Object(C.jsx)(X,{children:c})]})},Te=function(e){var t=e.title,a=e.value,n=e.name,l=e.fieldChanged,i=e.hint;return Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:t}),Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("textarea",{type:"textarea",className:"textarea is-rounded",name:n,value:a,onChange:function(e){return l(e)}})}),i&&Object(C.jsx)(X,{children:i})]})},De=function(e){e.inputFieldName;var t=e.inputFieldRef,a=e.inputFieldValue,l=e.inputFieldLabel,i=e.inputFieldChange,c=e.hint,s=e.type,r=e.readonly,d=Object(n.useState)(!1),o=Object(j.a)(d,2);o[0],o[1];return Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:l}),Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("input",{className:"input is-rounded",type:void 0!=s?s:"text",ref:t,defaultValue:a,onChange:function(){void 0!=i&&i()},readOnly:r})}),c&&Object(C.jsx)(X,{children:c})]})},Ie=function(e){var t=e.title,a=e.modalState,l=e.children,i=e.handleSubmit,c=e.autoClose,s=Object(n.useState)(a),r=Object(j.a)(s,2),d=r[0],o=r[1];return Object(n.useEffect)((function(){o(a)}),[a]),Object(C.jsxs)("div",{className:!0===d?"modal is-active":"modal",children:[Object(C.jsx)("div",{className:"modal-background"}),Object(C.jsxs)("div",{className:"modal-card",children:[Object(C.jsx)("div",{className:"modal-card-head",children:Object(C.jsx)("div",{className:"modal-card-title",children:t})}),Object(C.jsx)("div",{className:"modal-card-body",children:l}),Object(C.jsx)("div",{className:"modal-card-foot",children:Object(C.jsx)("button",{className:"button is-rounded is-link level-item",onClick:i,children:"Save"})}),Object(C.jsx)("button",{className:"modal-close is-large","aria-label":"close",onClick:function(){return c("")}})]})]})},ge=function(e){var t=e.resetAddRelatedValue,a=e.handleUpdated,l=Object(n.useContext)(S),i=(l.setLocations,l.refreshLocations),c=l.userSession,s=c.currentCompanyID,r=c.currentCompany,d=Object(n.useState)(!0),o=Object(j.a)(d,2),p=o[0],m=o[1],O=Object(n.useState)(""),h=Object(j.a)(O,2),x=h[0],f=(h[1],Object(n.useState)(!1)),N=Object(j.a)(f,2),v=N[0],y=(N[1],Object(n.useState)()),T=Object(j.a)(y,2),D=(T[0],T[1],Object(n.useRef)("")),I=function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Name:D.current.value,CompanyID:s,CompanyName:r},console.log(n),e.next=4,F.collection("Locations").doc().set(n);case 4:e.sent,i(),a(),g();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){t(),m(!1)};return Object(C.jsxs)(Ie,{title:"Add Location",handleSubmit:I,modalState:p,children:[Object(C.jsx)("form",{children:Object(C.jsx)(De,{inputFieldLabel:"Location Name",inputFieldRef:D,inputFieldValue:""})}),Object(C.jsxs)("div",{className:"block",children:[Object(C.jsx)("div",{className:"notification is-danger is-hidden",children:x}),!0===v?Object(C.jsx)("div",{className:"notification is-success",children:"Location Added"}):""]})]})},ke=function(e){var t=e.handleFileChange;return Object(C.jsx)("div",{className:"file is-boxed",children:Object(C.jsxs)("label",{className:"file-label",children:[Object(C.jsx)("input",{className:"file-input",type:"file",name:"resume",onChange:function(e){return t(e)}}),Object(C.jsxs)("span",{className:"file-cta",children:[Object(C.jsx)("span",{className:"file-icon",children:Object(C.jsx)("i",{className:"faUpload"})}),Object(C.jsx)("span",{className:"file-label",children:"Choose a file..."})]})]})})},Ae=function(e){var t=e.pageFields,a=e.active,n=e.activeValue,l=(e.tab,e.handleChange),i=e.handleRelatedSelectChange,c=e.handleAddRelatedValue,s=e.handleFileChange,r=e.addRelatedValue,d=e.resetAddRelatedValue,o=e.handleUpdated,u=e.currentCompany,b=e.currentCompanyID;return console.log(n),Object(C.jsx)(C.Fragment,{children:t&&t.map((function(e){switch(e.inputFieldType||e.fieldType){case"related-select":return Object(C.jsxs)(C.Fragment,{children:[console.log("pageInput array:",[e.inputSource]),Object(C.jsxs)(Ce,{type:"select",title:e.label,name:e.dataField,value:a&&a[e.dataField],handleChange:function(t){return i(t,{name:e.dataField,relatedName:e.relatedDataField})},field:e,handleAddValue:function(e){return c(e)},showAddLink:!0,children:[Object(C.jsx)("option",{}),e.inputSource&&e.inputSource.map((function(t){return Object(C.jsx)("option",{id:t[e.inputID],name:t[e.dataField],children:t[e.inputValue]},t[e.inputID])}))]}),"Locations"===r?Object(C.jsx)(ge,{handleUpdated:o,resetAddRelatedValue:function(){return d()},currentCompany:u,currentCompanyID:b,nameRef:e.inputValue}):""]});case"select":case"status":return Object(C.jsxs)(Ce,{type:"select",title:e.label,name:e.dataField,value:a&&a[e.dataField],handleChange:function(e){return l(e)},children:[Object(C.jsx)("option",{}),e.inputSource&&e.inputSource.map((function(t){return Object(C.jsx)("option",{name:t[e.dataField],children:t[e.inputValue]},t[e.inputID])}))]});case"text":return Object(C.jsx)(Se,{title:e.label,name:e.dataField,value:a&&a[e.dataField],fieldChanged:l});case"currency":return Object(C.jsx)(Se,{title:e.label,addOn:"currency",name:e.dataField,value:a&&a[e.dataField],fieldChanged:l});case"text-area":return Object(C.jsx)(Te,{title:e.label,name:e.dataField,value:a&&a[e.dataField],fieldChanged:l});case"datepicker":return Object(C.jsx)(Se,{id:"datetime-local",title:e.label,type:"date",name:e.dataField,className:"input is-rounded is-small",value:a&&a[e.dataField],fieldChanged:function(e){return l(e)}});case"file-field":return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(ke,{handleFileChange:s})});case"ac-places":return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Se,{title:e.label,handleChange:function(e){return handleACChange(e)},value:a&&a[e.dataField]})})}}))})},Ve=l.a.memo(Ae),Le=function(e){var t=e.relatedFields,a=e.handleChange,l=e.handleRelatedSelectChange,i=(e.handleUpdated,e.activeData),c=e.relatedData,s=Object(n.useContext)(S).userSession;s.locations,s.orders,s.users,s.notes,s.tickets,s.services;return console.log(t),Object(C.jsx)(C.Fragment,{children:t&&t.map((function(e){switch(e.inputFieldType){case"related-select":return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Ce,{type:"select",title:e.label,name:(e.dataField,Object(C.jsx)("a",{className:"link is-size-7 pl-1",onClick:function(){return handleAddValue(e)},children:"(add)"})),value:i&&i[e.dataField],handleChange:function(t){return l(t,{name:e.dataField,relatedName:e.relatedDataField})},field:e,handleAddValue:function(e){return handleAddRelatedValue(e)},showAddLink:!0,children:[Object(C.jsx)("option",{}),e.inputSource&&e.inputSource.map((function(t){return Object(C.jsx)("option",{id:t[e.inputID],name:t[e.dataField],children:t[e.inputValue]},t[e.inputID])}))]})});case"select":return Object(C.jsxs)(Ce,{type:"select",title:e.label,name:e.dataField,value:i&&i[e.dataField],handleChange:function(t){return l(t,{name:e.dataField,relatedName:e.relatedDataField})},children:[Object(C.jsx)("option",{}),e.inputSource&&e.inputSource.map((function(t){return Object(C.jsx)("option",{name:t[e.dataField],children:t[e.inputValue]},t[e.inputID])}))]});case"text":return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Se,{title:e.label,name:e.dataField,fieldChanged:a})});case"currency":return Object(C.jsx)(Se,{title:e.label,addOn:"currency",name:e.dataField,fieldChanged:a});case"text-area":return Object(C.jsx)(Te,{title:e.label,name:e.dataField,fieldChanged:a});case"datepicker":return Object(C.jsx)(Se,{id:"datetime-local",title:e.label,type:"date",name:e.dataField,className:"input is-rounded is-small",value:e&&c[e.dataField],fieldChanged:function(e){return a(e)}})}}))})},we=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),l=a[0],i=a[1],c=e.isModule,s=e.id,r=e.handleClose,d=le().refreshModule,o=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.e)(Object(h.f)(F,c,s));case 3:console.log("Successfully deleted document"),d(c),p(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error deleting document");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){setTimeout((function(){return r()}),1500)};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:!0===l?"dropdown is-up is-active is-mobile":"dropdown is-up",onClick:function(){return i(!l)},children:[Object(C.jsx)("div",{className:"dropdown-trigger navbar-item",onClick:function(){i(!l)},children:Object(C.jsx)(U.r,{className:!0===l?"icon is-normal":"icon is-normal is-link"})}),Object(C.jsx)("div",{className:!0===l?"dropdown-menu":"is-hidden",children:Object(C.jsx)("div",{className:"dropdown-content",children:Object(C.jsxs)("div",{className:"dropdown-item",children:[Object(C.jsx)("a",{className:"button is-rounded is-danger mr-2",onClick:function(){o()},children:"Yes Delete"}),Object(C.jsx)("a",{className:"delete is-small ml-3",onClick:function(){i(!1)}})]})})})]})})},Ee=function(e){var t=e.isModule,a=e.id,l=e.isBookmarked,i=N.doc,c=N.updateDoc,s=Object(n.useState)(),r=Object(j.a)(s,2),d=r[0],o=r[1];Object(n.useEffect)((function(){!0===e.isBookmarked?o(!0):o(!1)}),[l]);var p=function(){var e=Object(b.a)(u.a.mark((function e(){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ee.a)({},"isBookmarked",!l),s=i(F,t,a),e.prev=2,e.next=5,c(s,n);case 5:console.log("Successfully bookmarked document"),o(!d),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Error bookmarking document");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"navbar-item",onClick:function(){return p()},children:[Object(C.jsx)(U.d,{className:1!=d?"is-hidden":"icon is-normal"}),Object(C.jsx)(U.l,{className:void 0===d||!1===d?"icon is-normal":"is-hidden"})]})})},Re=function(){var e=Object(r.g)(),t=e.isModule,a=e.id,l=(Object(r.f)(),Object(n.useState)(!1)),i=Object(j.a)(l,2),c=i[0],s=i[1],d=function(){var e=Object(b.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection(t).doc(a).delete();case 3:n=e.sent,console.log(n),o(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error Deleting Record");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){setTimeout((function(){navigate("/dashboard")}),1500)};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:!0===c?"dropdown is-up is-active is-mobile":"dropdown is-up",onClick:function(){return s(!c)},children:[Object(C.jsxs)("div",{className:"dropdown-trigger navbar-item",onClick:function(){s(!c)},children:[Object(C.jsx)(U.p,{className:!0===c?"icon is-normal":"is-hidden"}),Object(C.jsx)(U.m,{className:!1===c?"icon is-normal":"is-hidden"})]}),Object(C.jsx)("div",{className:!0===c?"dropdown-menu ":"is-hidden",children:Object(C.jsx)("div",{className:"dropdown-content",children:Object(C.jsxs)("div",{className:"dropdown-item ",children:[Object(C.jsx)("a",{className:"button is-small is-rounded is-danger mr-2",onClick:function(){d()},children:"Yes Delete"}),Object(C.jsx)("a",{className:"button is-small is-rounded is-light",onClick:function(){s(!1)},children:"No Cancel"})]})})})]})})},Be=function(e){var t=e.handleClick,a=e.isDrawerOpen,n=Object(r.g)();n.isModule,n.id,Object(r.f)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"navbar-item",onClick:function(){return t(!a)},children:Object(C.jsx)(U.k,{className:!0===a?"icon is-normal":"icon is-normal is-link"})})})},Ue=function(e){var t=e.values,a=(Object(r.f)(),Object(n.useState)(!1)),l=Object(j.a)(a,2),i=l[0],c=l[1],s=Object(n.useState)(""),d=Object(j.a)(s,2),o=d[0],p=d[1],m=Object(n.useState)(""),O=Object(j.a)(m,2),h=O[0],x=O[1],f=Object(n.useState)(""),N=Object(j.a)(f,2),v=N[0],y=N[1];Object(n.useEffect)((function(){x(t),p(t)}),[t]),Object(n.useEffect)((function(){return function(){x("")}}),[e.handleUpdated]);var S=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection(t.isModule).doc(t.id).update({Tags:Object(J.a)(h)});case 3:e.sent,c(!1),t.handleUpdated(),y(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error Adding Tag to Record");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var t=Object(b.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.splice(a,1),t.prev=1,t.next=4,F.collection(e.isModule).doc(e.id).update({Tags:Object(J.a)(o)});case 4:t.sent,c(!1),e.handleUpdated(),y(""),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("Error Deleting Tag to Record");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:!0===i?"dropdown is-up is-right is-active is-mobile":"dropdown is-up",children:[Object(C.jsx)("div",{className:"dropdown-trigger navbar-item",onClick:function(){return c(!i)},children:Object(C.jsx)(U.q,{className:"icon is-normal",onClick:function(){return c(!i)}})}),Object(C.jsx)("div",{className:!0===i?"dropdown-menu ":"is-hidden",children:Object(C.jsx)("div",{className:"dropdown-content",children:Object(C.jsxs)("div",{className:"dropdown-item ",children:[Object(C.jsx)("ul",{children:o&&void 0!=o?o.map((function(e,t){return Object(C.jsxs)("li",{className:"tag is-info is-light is-rounded mr-1",children:[e&&e," ",Object(C.jsx)("button",{className:"delete is-small",onClick:function(){return T({index:t})},children:"x"})]},t)})):""}),Object(C.jsx)(Se,{label:"Tag:",fieldChanged:function(e){return function(e){var t=e.value,a=t;void 0!=o?(x([a].concat(Object(J.a)(o))),y(t)):(x([a]),y(t))}(e.target)},value:v}),Object(C.jsx)("button",{type:"submit",className:"button is-rounded is-link",onClick:function(){return S(e)},children:"Add"})]})})})]})})},Me=function(){var e=Object(n.useContext)(S),t=e.setCurrentDate,a=e.userSession,l=a.currentCompany,i=a.currentCompanyID,c=a.currentUser,s=N.collection,o=N.query,p=N.where,m=N.getDocs,O=Object(r.g)(),h=O.isModule,x=O.id,f=(Object(r.f)(),Object(n.useState)(!1)),v=Object(j.a)(f,2),T=v[0],D=v[1],I=Object(n.useState)(""),g=Object(j.a)(I,2),k=g[0],A=g[1],V=Object(n.useState)(""),L=Object(j.a)(V,2);L[0],L[1];Object(n.useEffect)((function(){w()}),[]);var w=function(){var e=Object(b.a)(u.a.mark((function e(t,a){var n,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o(s(F,"Attachments"),p("".concat(t,"ID"),"==","".concat(a))),e.next=3,m(n);case 3:l=e.sent,i=l.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})),console.log("Fetched Locations"),A(i);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(res),D(!1)}catch(t){console.log("Error Deleting Document")}finally{w()}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(u.a.mark((function e(a){var n,s,r,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.files[0],s=y.ref(i).child("".concat(h,"'-'").concat(x,"'-'").concat(l)),e.next=4,s.put(n);case 4:return e.next=6,s.getDownloadURL();case 6:return r=e.sent,e.prev=7,e.next=10,F.collection("Attachments").doc().set((d={},Object(ee.a)(d,"CompanyName",l),Object(ee.a)(d,"CompanyID",i),Object(ee.a)(d,"".concat(h,"ID"),x),Object(ee.a)(d,"AttachedDate",t()),Object(ee.a)(d,"AttachedBy",c),Object(ee.a)(d,"FileURL",r),d));case 10:D(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log("Error Adding Document");case 16:return e.prev=16,w(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[7,13,16,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:!0===T?"dropdown is-up is-right is-active is-mobile":"dropdown is-up",children:[Object(C.jsx)("div",{className:"dropdown-trigger navbar-item",onClick:function(){return D(!T)},children:Object(C.jsx)(U.j,{className:"icon is-normal",onClick:function(){return D(!T)}})}),Object(C.jsx)("div",{className:!0===T?"dropdown-menu ":"is-hidden",children:Object(C.jsx)("div",{className:"dropdown-content",children:Object(C.jsxs)("div",{className:"dropdown-item ",children:[Object(C.jsx)("ul",{children:k&&void 0!=k?k.map((function(e,t){return Object(C.jsxs)("li",{className:"tag is-info is-light is-rounded mr-1 mb-1",children:[Object(C.jsx)("a",{target:"_blank",href:e.FileURL,children:e.AttachedDate&&e.AttachedDate})," ",Object(C.jsx)("button",{className:"delete is-small",onClick:function(){return E(e.id)},children:"x"})]},t)})):""}),Object(C.jsx)("hr",{}),Object(C.jsx)("div",{className:"field",children:Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("div",{className:"file is-small is-link",children:Object(C.jsxs)("label",{className:"file-label",children:[Object(C.jsx)("input",{className:"file-input",type:"file",name:"resume",onChange:function(e){return R(e)}}),Object(C.jsxs)("span",{className:"file-cta",children:[Object(C.jsx)("span",{className:"file-icon",children:Object(C.jsx)("i",{className:"faUpload"})}),Object(C.jsx)("span",{className:"file-label",children:"Choose a file..."})]})]})})})})]})})})]})})},Pe=function(e){var t=e.handleEditButton,a=e.isDrawerOpen,n=e.isBookmarked,l=e.tags,i=e.isModule,c=e.id,s=e.handleClose;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("nav",{className:"navbar footerblur is-fixed-bottom is-active",children:Object(C.jsx)("div",{className:"navbar-menu footer-menu",children:Object(C.jsxs)("div",{className:"navbar-menu is-justify-content-center is-relative footer-menu",children:[Object(C.jsx)("div",{className:"navbar-item is-inline-block-touch pl-4 pr-4",children:Object(C.jsx)(Be,{handleClick:t,isDrawerOpen:a})}),Object(C.jsx)("div",{className:"navbar-item is-inline-block-touch pl-4 pr-4",children:Object(C.jsx)(Ee,{isBookmarked:n,id:c,isModule:i,handleClose:function(){return s()}})}),Object(C.jsx)("div",{className:"navbar-item is-inline-block-touch pl-4 pr-4 is-hidden",children:Object(C.jsx)(Re,{})}),Object(C.jsx)("div",{className:"navbar-item is-inline-block-touch pl-4 pr-4",children:Object(C.jsx)(Me,{})}),Object(C.jsx)("div",{className:"navbar-item is-inline-block-touch pl-4 pr-4",children:Object(C.jsx)(Ue,{values:l,handleUpdated:e.handleUpdated,isModule:i,id:c})}),Object(C.jsx)("div",{className:"navbar-item is-inline-block-touch pl-4 pr-4",children:Object(C.jsx)(we,{isModule:i,id:c,handleClose:function(){return s()}})})]})})})})},_e=function(e){var t=e&&e||null,a=t.isModule,l=t.id,i=t.handleRelatedClick,c=(t.isDetailDrawerOpen,Object(n.useContext)(S)),s=N.collection,r=N.query,o=N.where,p=N.getDocs,m=N.getDoc,O=N.addDoc,h=N.updateDoc,x=N.doc,f=N.ref,v=N.uploadBytes,T=N.getDownloadURL,D=(c.serviceTypes,c.accessTypes,c.vendorList,c.isStyle,c.setBills),I=(c.setOrders,c.setCurrentDate),g=(c.setLocations,c.setAccounts,c.setServices,c.setUsers,c.setNotes),k=(c.setCurrentModule,c.setCurrentDocID,c.refreshServices,c.userSession),V=(k.locations,k.services,k.orders,k.accounts,k.tickets,k.contracts,k.users,k.bills,k.notes,k.currentCompany),L=k.currentCompanyID,w=k.currentUser,E=(k.currentModule,k.currentDocID,Object(n.useContext)(A)),R=E.serviceDetailFields,B=E.orderDetailFields,U=E.accountDetailFields,M=E.ticketDetailFields,P=E.billsDetailFields,_=E.eventDetailFields,G=E.locationDetailFields,z=E.contractDetailFields,H=E.userDetailFields,K=E.core,Z=Object(n.useState)("Essentials"),Y=Object(j.a)(Z,2),Q=Y[0],X=Y[1],te=Object(n.useState)(""),ae=Object(j.a)(te,2),ne=ae[0],se=ae[1],re=Object(n.useState)(""),de=Object(j.a)(re,2),oe=de[0],ue=de[1],be=Object(n.useState)(""),je=Object(j.a)(be,2),pe=je[0],me=je[1],Oe=Object(n.useState)(),he=Object(j.a)(Oe,2),ve=he[0],Fe=he[1],ye=Object(n.useState)(!1),Ce=Object(j.a)(ye,2),Se=Ce[0],Te=Ce[1],De=Object(n.useState)([]),Ie=Object(j.a)(De,2),ge=Ie[0],ke=Ie[1],Ae=Object(n.useState)(!1),we=Object(j.a)(Ae,2),Ee=(we[0],we[1]),Re=Object(n.useState)(!1),Be=Object(j.a)(Re,2),Ue=(Be[0],Be[1]),Me=Object(n.useState)(!1),_e=Object(j.a)(Me,2),Ge=_e[0],ze=(_e[1],Object(n.useState)()),He=Object(j.a)(ze,2),Ke=He[0],Ze=He[1],Ye=Object(n.useState)(""),qe=Object(j.a)(Ye,2),We=qe[0],$e=qe[1],Je=Object(n.useState)(""),Qe=Object(j.a)(Je,2),Xe=Qe[0],et=Qe[1],tt=Object(n.useState)(!1),at=Object(j.a)(tt,2),nt=at[0],lt=at[1],it=Object(n.useState)(!1),ct=Object(j.a)(it,2),st=ct[0],rt=ct[1],dt=Object(n.useState)(""),ot=Object(j.a)(dt,2),ut=ot[0],bt=ot[1],jt=Object(n.useState)(""),pt=Object(j.a)(jt,2),mt=pt[0],Ot=pt[1],ht=Object(n.useState)(!1),xt=Object(j.a)(ht,2),ft=xt[0],Nt=xt[1],vt=le().refreshModule,Ft=function(e){var t=Object(n.useState)(e||!0),a=Object(j.a)(t,2),l=a[0],i=a[1];return[l,function(e){return i(e)}]}(!0),yt=Object(j.a)(Ft,2),Ct=yt[0],St=yt[1];Object(n.useEffect)((function(){St(!0),It(a),gt(e.isDrawerActive,e.isNew),!1===e.isNew&&wt(a,l),!1===e.isNew&&Et(),!1===e.isNew&&Rt()}),[]),Object(n.useEffect)((function(){It(a),!1===e.isNew&&wt(a,l),!1===e.isNew&&Et(),!1===e.isNew&&Rt(),Vt(),Te(!1),kt(),At()}),[Ct]),Object(n.useEffect)((function(){0!=Se&&Lt()}),[Se]);var Tt=null===K||void 0===K?void 0:K.filter((function(e){return e.id===a})).map((function(e){return e.fields})),Dt=Object(j.a)(Tt,1)[0];console.log("coreFields",Dt),Object(n.useEffect)((function(){console.log(We),We.pageFields&&We.pageFields&&Ht(We)}),[We]);var It=function(e){switch(e){case"Services":return ke(R);case"Accounts":return ke(U);case"Orders":return ke(B);case"Tickets":return ke(M);case"Locations":return ke(G);case"Contracts":return ke(z);case"Bills":return ke(P);case"Notes":return ke(notesDetailFields);case"Users":return ke(H);case"Events":return ke(_)}},gt=function(e,t){!0===e&&Nt(!0),!0===t&&Fe(!0)},kt=function(){var e;se(Object(d.a)(Object(d.a)({},ne),{},(e={},Object(ee.a)(e,"CreatedDate",I()),Object(ee.a)(e,"CreatedBy",w),Object(ee.a)(e,"CompanyID",L),Object(ee.a)(e,"CompanyName",V),e)))},At=function(){setTimeout((function(){St(!1)}),2500)},Vt=function(){ge.filter((function(e){return!0===e.isHeader})).map((function(e){return me(e.dataField)}))},Lt=function(){St(!0),vt(a),Te(!1),At()};console.log(ne);var wt=function(){var e=Object(b.a)(u.a.mark((function e(t,a){var n,l,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x(F,t,a),e.next=3,m(n);case 3:l=e.sent,console.log(l),i=l.data(),c=l.id,ue(Object(d.a)({id:c},i)),se(i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Et=function(){var t=Object(b.a)(u.a.mark((function t(){var a,n,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r(s(F,"Bills"),o("ServiceID","==",e.id)),t.next=3,p(a);case 3:return n=t.sent,t.next=6,n.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));case 6:return l=t.sent,t.next=9,D(l);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Rt=function(){var t=Object(b.a)(u.a.mark((function t(){var a,n,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r(s(F,"Notes"),o("ServiceID","==",e.id)),t.next=3,p(a);case 3:return n=t.sent,t.next=6,n.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));case 6:return l=t.sent,t.next=9,g(l);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Bt=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=f(y,"".concat(V,"/").concat(L," - ").concat(ne.Name&&ne.Name)),e.next=4,v(n,a);case 4:return e.next=6,T(n);case 6:l=e.sent,se(Object(d.a)(Object(d.a)({},ne),{},Object(ee.a)({},"FileURL",l)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(s(F,a),t);case 3:console.log("Changes Saved!"),setTimeout((function(){Ee(!1)}),1e3),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error saving"),setTimeout((function(){Ue(!1)}),1e3);case 11:Te(!0),Nt(!ft);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.a)(Object(d.a)({},ne),{},(t={},Object(ee.a)(t,"LastUpdated",I()),Object(ee.a)(t,"LastUpdateBy",w),t)),i=x(F,a,l),e.prev=2,e.next=5,h(i,n);case 5:console.log("Successfully updated document"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Error updating document");case 11:Fe(!1),Te(!0),Nt(!1),rt(!1);case 15:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return We.collection,t=Object(d.a)({},Xe),e.prev=2,e.next=5,O(s(F,We.collection),t);case 5:console.log("Successfully saved new ".concat(We.label)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("Error saving new ".concat(We.label));case 11:lt(!nt),vt(We.collection),Te(!0);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),_t=function(e,t){var a,n,l;e.preventDefault();e.target.options[e.target.selectedIndex].text;var i=e.target.options[e.target.selectedIndex].id,c=t.name,s=t.relatedName,r=e.target.value;console.log((a={},Object(ee.a)(a,s,i),Object(ee.a)(a,c,r),a)),ue(Object(d.a)(Object(d.a)({},oe),{},(n={},Object(ee.a)(n,s,i),Object(ee.a)(n,c,r),n))),se(Object(d.a)(Object(d.a)({},ne),{},(l={},Object(ee.a)(l,s,i),Object(ee.a)(l,c,r),l)))},Gt=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("isArrayMapData",mt,"data:",ne),i=void 0!=ne[ut.dataField]?Object(d.a)(Object(d.a)({},ne),{},(t={},Object(ee.a)(t,ut.dataField,[Object(d.a)({},mt)].concat(Object(J.a)(ne[ut.dataField]))),Object(ee.a)(t,"LastUpdated",I()),Object(ee.a)(t,"LastUpdateBy",w),t)):Object(d.a)(Object(d.a)({},ne),{},(n={},Object(ee.a)(n,ut.dataField,[Object(d.a)({},mt)]),Object(ee.a)(n,"LastUpdated",I()),Object(ee.a)(n,"LastUpdateBy",w),n)),e.prev=2,console.log("Submitting Array Data:",ne),c=x(F,a,l),e.next=7,h(c,i);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Error Submitting Array Data");case 12:Ot(),rt(!1),Te(!0);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),zt=function(t){var a;$e(Object(d.a)(Object(d.a)({},We),{},{collection:t.relatedCollection,pageFields:t.relatedInputFields,label:t.label})),et((a={},Object(ee.a)(a,"CompanyID",L),Object(ee.a)(a,"CompanyName",V),Object(ee.a)(a,"CreatedDate",I()),Object(ee.a)(a,"CreatedBy",w),Object(ee.a)(a,t.relatedDataField,e.id),a)),lt(!0)},Ht=function(e){var t=e.pageFields.filter((function(e){return void 0!=e.value})).map((function(e){return Object(ee.a)({},e.dataField,oe[e.value])})),a=Object.assign.apply(Object,[{}].concat(Object(J.a)(t),[Xe]));et(Object(d.a)(Object(d.a)({},Xe),a))},Kt=function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("data",ne,"active",oe),e.prev=1,e.next=4,O(s(F,t.helperCollection),(a={},Object(ee.a)(a,t.dataField,oe.id||""),Object(ee.a)(a,t.relatedCollection,[x(F,"".concat(t.relatedCollection,"/XigoVEm5Z0SgkjOlLv8t"))]),a));case 4:console.log("Successfully saved new related data"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Error saving new related data");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)($,{active:Ct,children:[Object(C.jsx)(ie,{children:c&&void 0!=c.userSession?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(fe,{children:Object(C.jsx)(Ne,{data:ge,active:Q,handleClick:function(e){return X(e)}})}),Object(C.jsxs)("div",{className:"box is-rounded",style:{minHeight:"50vh"},children:[Object(C.jsxs)("article",{className:"hero title is-small",children:[Object(C.jsx)("span",{className:"subtitle is-5",children:a}),Object(C.jsx)("span",{className:"title is-3",children:[oe].map((function(e){return e[pe]&&e[pe]}))})]}),Object(C.jsx)("div",{className:"block",children:oe&&Dt.map((function(e){return Object(C.jsx)(C.Fragment,{children:[oe].map((function(t){var a;return Object(C.jsxs)("div",{className:0!=e.visible&(null===e||void 0===e||null===(a=e.params)||void 0===a?void 0:a.tab)===Q?"":"is-hidden",children:[Object(C.jsx)("hr",{className:!0===e.hasBreakBefore?"":"is-hidden"}),Object(C.jsx)(q,{options:"is-mobile",children:Object(C.jsx)(W,{size:"pl-3 pr-3",children:Object(C.jsx)(xe,{loading:Ct,field:e,fieldData:t,relatedDataMap:e.inputSource&&e.inputSource.filter((function(a){return a[e.relatedDataField]===t.id})).map((function(e){return Object(d.a)({},e)})),toggleViewDrawer:function(){Nt(!ft)},isViewRelatedActive:Ge,handleClick:function(e){return function(e){i(e)}(e)},handleArrayMapDelete:function(t,a){return function(e,t,a){bt({pageFields:a.relatedInputFields,dataField:a.dataField,label:a.label}),ne[a.dataField].splice(e,1);try{Mt()}catch(n){console.log("Error Deleting Item")}}(t,0,e)},handleArrayMapDrawer:function(e){return function(e){bt({pageFields:e.relatedInputFields,dataField:e.dataField,label:e.label,key:e.key}),rt(!0)}(e)},handleRelatedDrawer:function(e){return zt(e)},handleDocRelations:function(e){return Kt(e)}})})})]})}))})}))}),Object(C.jsx)(ce,{title:"Edit",checked:ft,handleClose:function(){return Nt(!ft)},direction:"right",handleSubmit:function(){!0===ve?Ut(ne):Mt(ne)},children:Object(C.jsx)(Ve,{checked:ft,handleClose:function(){return Nt(!ft)},handleChange:function(e){return function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;console.log(a,n),ue(Object(d.a)(Object(d.a)({},oe),{},Object(ee.a)({},a,n))),se(Object(d.a)(Object(d.a)({},ne),{},Object(ee.a)({},a,n)))}(e)},handleRelatedSelectChange:function(e,t){return _t(e,t)},handleFileChange:function(e){return Bt(e)},pageFields:ge,active:oe,addRelatedValue:Ke,handleAddRelatedValue:function(e){return zt(e)},resetAddRelatedValue:function(){return Ze("")},handleUpdated:function(){return Te(!Se)},currentCompany:V,currentCompanyID:L})}),Object(C.jsx)(ce,{title:"Add New",checked:st,handleClose:function(){return rt(!st)},direction:"right",handleSubmit:function(){return Gt()},children:Object(C.jsx)(Ve,{handleClose:function(){return rt(!st)},handleChange:function(e){return function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;ut.dataField,Ot(Object(d.a)(Object(d.a)({},mt),{},Object(ee.a)({},a,n)))}(e)},handleRelatedSelectChange:function(e,t){return _t(e,t)},handleFileChange:function(e){return Bt(e)},pageFields:ut.pageFields,active:oe[ut.dataField],activeValue:ut.key,addRelatedValue:Ke,handleAddRelatedValue:function(e){return zt(e)},resetAddRelatedValue:function(){return Ze("")},handleUpdated:function(){return Te(!Se)},currentCompany:V,currentCompanyID:L})}),Object(C.jsx)(ce,{title:"Add New",checked:nt,direction:"right",handleClose:function(){return lt(!nt)},handleSubmit:function(){return Pt()},children:Object(C.jsx)(Le,{relatedFields:We.pageFields,handleChange:function(e){return function(e){var t=e.target,a=t.name,n=t.value;et(Object(d.a)(Object(d.a)({},Xe),{},Object(ee.a)({},a,n)))}(e)},handleRelatedField:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return handleRelatedField(e)})),handleRelatedSelectChange:function(e,t){return _t(e,t)},handleUpdated:function(){return Te(!Se)},activeData:oe,relatedData:We})})]}),Object(C.jsxs)(q,{children:[Object(C.jsx)(W,{size:"is-narrow",children:Object(C.jsxs)("div",{className:"is-size-7 ml-5",style:{fontVariant:["small-caps"]},children:["last updated: ",oe.LastUpdated||""]})}),Object(C.jsx)(W,{size:"is-narrow",children:Object(C.jsxs)("div",{className:"is-size-7 ml-5",style:{fontVariant:["small-caps"]},children:["updated by: ",oe.LastUpdateBy||""," ",void 0!=ne.fields?"document version 2.01":"document version 1.0"]})})]})]}):Object(C.jsx)("div",{className:"notification warning",children:" No record to display "})}),Object(C.jsx)(Pe,{handleEditButton:function(e){return Nt(e)},isDrawerOpen:ft,handleClose:function(){return e.setIsDetailDrawerOpen()},isBookmarked:oe.isBookmarked,tags:oe.Tags,handleUpdated:wt,isModule:e.isModule,id:e.id})]})};var Ge=function(e){var t=Object(n.useContext)(S).userSession,a=(t.currentModule,t.currentDocID),l=e.drawers,i=e.handleAddDrawer,c=e.handleClose;return l.map((function(e,t){var n;return Object(C.jsx)(ae,{direction:"right",checked:e.open&&e.open,handleClose:function(){return c(t)},title:e.currentCompany&&e.currentCompany,children:Object(C.jsx)(_e,(n={currentCompanyID:e.currentCompanyID,id:a,isModule:e.isModule,handleRelatedClick:function(e){return i(e)},isNew:!1},Object(ee.a)(n,"id",e.docID),Object(ee.a)(n,"drawers",l),Object(ee.a)(n,"setIsDetailDrawerOpen",""),Object(ee.a)(n,"isDetailDrawerOpen",e.open),Object(ee.a)(n,"resetIsNew",""),n))})}))},ze=function(e){return Object(C.jsx)("table",{className:e&&"table ".concat(e.params),children:e.children})},He=function(e){return Object(C.jsx)("thead",{className:e&&e.params,style:e.style,children:e.children})},Ke=function(e){return Object(C.jsx)("th",{className:e&&e.params,style:e.style,children:e.children})},Ze=function(e){return Object(C.jsx)("tr",{className:e&&e.params,onClick:e.handleRowClick,children:e.children})},Ye=function(e){return Object(C.jsx)("tbody",{className:e&&e.params,children:e.children})},qe=function(e){return Object(C.jsx)("td",{className:e&&e.params,style:e.style,onClick:e.handleDataClick,children:e.children})},We=function(e){var t,a,l=e.data,i=e.isGrid,c=e.headerFields,s=e.mobileHeaderFields,r=e.handleClick,d=e.groupBy,o=Q(),u=o.sortedArr,b=o.setArr,p=Object(n.useState)(),m=Object(j.a)(p,2),O=(m[0],m[1],function(e,t){b({sortBy:e,data:t}),console.log(u)}),h=void 0!=l?(a=d,(t=l)&&t.reduce((function(e,t){var n=t[a];return e[n]?e[n].push(t):e[n]=[],e}),{})):"",x=Object.keys(h);return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"",children:"ALL"!=d&"Tags"!=d?x.map((function(e){return Object(C.jsxs)("div",{className:"box is-rounded",children:[Object(C.jsxs)("div",{className:"columns is-mobile",children:["     ",Object(C.jsxs)("div",{className:"column is-narrow",children:[Object(C.jsx)("div",{className:"is-size-6",children:i&&i}),Object(C.jsx)("div",{className:"title",children:Object(C.jsx)("strong",{children:e||"Not Assigned"})})]})]}),Object(C.jsx)("div",{className:"table-container ",children:Object(C.jsxs)(ze,{params:"table is-hoverable is-fullwidth is-centered",children:[Object(C.jsxs)(He,{params:"is-size-6",children:[Object(C.jsx)(Ze,{params:"is-hidden-touch",children:void 0!=e?c&&c.filter((function(e){return e.visible&&0!=e.visible})).map((function(e){return Object(C.jsx)(Ke,{params:e.headerName===d?"is-hidden":"",style:{width:"15%",textAlign:"left"},children:1!=e.mobile?Object(C.jsx)("span",{children:Object(C.jsx)("a",{onClick:function(){return O(e.docField,l)},children:e.headerName&&e.headerName})}):Object(C.jsx)("a",{onClick:function(){return O(e.docField,l)},children:e.headerName&&e.headerName})},e.keyProp)})):"Not Assigned"}),Object(C.jsx)(Ze,{params:"py-7 is-hidden-desktop",children:void 0!=e?s&&s.map((function(e){return Object(C.jsx)(Ke,{params:e.headerName===d?"is-hidden":"",style:{textAlign:"left"},children:(e.mobile,Object(C.jsx)("a",{onClick:function(){return O(e.docField,l)},children:e.headerName&&e.headerName}))},e.keyProp)})):""})]}),Object(C.jsx)(Ye,{params:"is-size-6 is-hidden-touch",children:l&&void 0!=l?l.filter((function(t){return t[d]===e})).map((function(t){return Object(C.jsx)(Ze,{params:"py-7",handleRowClick:function(){return r(t.id)},children:void 0!=e?c&&c.filter((function(e){return e.visible&&0!=e.visible})).map((function(e){return Object(C.jsx)(qe,{params:e.headerName===d?"is-hidden":"donotwrapcell px-4 py-4",children:t[e.docField]&&"currency"===e.type?"$ ".concat(t[e.docField]):t[e.docField]},t[e.headerName])})):""},t.id)})):""}),Object(C.jsx)(Ye,{params:"is-size-7 is-hidden-desktop",children:l&&void 0!=l?l.filter((function(t){return t[d]===e})).map((function(t){return Object(C.jsx)(Ze,{params:"py-7",handleRowClick:function(){return r(t.id)},children:void 0!=e?s&&s.map((function(e){return Object(C.jsx)(qe,{params:e.headerName===d?"is-hidden":"donotwrapcell py-3",children:t[e.docField]&&"currency"===e.type?"$ ".concat(t[e.docField]):t[e.docField]},t[e.headerName])})):""},t.id)})):""})]})})]})})):"Tags"==d?x.map((function(e){return Object(C.jsxs)("div",{className:"box is-rounded",children:[Object(C.jsx)("div",{className:"columns is-mobile",children:Object(C.jsxs)("div",{className:"column is-narrow",children:[Object(C.jsx)("div",{className:"is-size-6",children:i&&i}),Object(C.jsx)("div",{className:"title",children:Object(C.jsx)("strong",{children:e||"No Tags Assigned"})})]})}),Object(C.jsx)("div",{className:"table-container ",children:Object(C.jsxs)(ze,{params:"table is-hoverable is-fullwidth is-centered",children:[Object(C.jsxs)(He,{params:"is-size-6",children:[Object(C.jsx)(Ze,{params:"py-7 is-hidden-touch",children:c&&"Tags"===e?c.map((function(e){return Object(C.jsx)(He,{params:e.headerName===d?"is-hidden":"",style:{width:"15%",textAlign:"left"},children:1!=e.mobile?Object(C.jsx)("span",{children:Object(C.jsx)("a",{onClick:function(){return O(e.docField,l)},children:e.headerName&&e.headerName})}):Object(C.jsx)("a",{onClick:function(){return O(e.docField,l)},children:e.headerName&&e.headerName})},e.keyProp)})):""}),Object(C.jsx)(Ze,{params:"py-7 is-hidden-desktop",children:s&&s.map((function(e){return Object(C.jsx)(He,{className:e.headerName===d?"is-hidden":"",style:{textAlign:"left"},children:(e.mobile,Object(C.jsx)("a",{onClick:function(){return O(e.docField,l)},children:e.headerName&&e.headerName}))},e.keyProp)}))})]}),Object(C.jsx)(Ye,{params:"is-size-7 is-hidden-touch",children:l&&void 0!=l?l.filter((function(t){return t.Tags&&t.Tags.includes(e)})).map((function(e){return Object(C.jsx)(Ze,{params:"py-7",handleRowClick:function(){return r(e.id)},children:c&&c.map((function(t){return Object(C.jsx)(qe,{params:t.headerName===d?"is-hidden":"donotwrapcell px-4 py-4",children:e[t.docField]&&"currency"===t.type?"$ ".concat(e[t.docField]):e[t.docField]},e[t.headerName])}))},e.id)})):""}),Object(C.jsx)(Ye,{params:"is-size-7 is-hidden-desktop",children:l&&void 0!=l?l.filter((function(t){return t.Tags&&t.Tags.includes(e)})).map((function(e){return Object(C.jsx)(Ze,{params:"py-7",handleRowClick:function(){return r(e.id)},children:s&&s.map((function(t){return Object(C.jsx)(qe,{params:t.headerName===d?"is-hidden":"donotwrapcell py-3",children:e[t.docField]&&"currency"===t.type?"$ ".concat(e[t.docField]):e[t.docField]},e[t.headerName])}))},e.id)})):""})]})})]})})):Object(C.jsxs)("div",{className:"box is-rounded",children:[Object(C.jsxs)("div",{className:"columns is-mobile",children:["     ",Object(C.jsx)("div",{className:"column is-narrow",children:Object(C.jsx)("div",{className:"title",children:Object(C.jsx)("strong",{children:i&&i})})})]}),Object(C.jsx)("div",{className:"table-container ",children:Object(C.jsxs)(ze,{params:"table is-hoverable is-fullwidth is-centered",children:[Object(C.jsxs)(He,{params:"is-size-6",children:[Object(C.jsx)(Ze,{params:"py-7 is-hidden-mobile",children:c&&c.map((function(e){return Object(C.jsx)(Ke,{params:e.headerName===d?"is-hidden":"",style:{width:"15%",textAlign:"left"},children:(e.mobile,Object(C.jsx)("a",{onClick:function(){return O(e.docField,l)},children:e.headerName&&e.headerName}))},e.keyProp)}))}),Object(C.jsx)(Ze,{params:"py-7 is-hidden-tablet",children:s&&s.map((function(e){return Object(C.jsx)(Ke,{params:e.headerName===d?"is-hidden":"",style:{textAlign:"left"},children:(e.mobile,Object(C.jsx)("a",{onClick:function(){return O(e.docField,l)},children:e.headerName&&e.headerName}))},e.keyProp)}))})]}),Object(C.jsx)(Ye,{params:"is-6 is-hidden-mobile",children:l&&void 0!=l?l.map((function(e){return Object(C.jsx)(Ze,{handleRowClick:function(){return r(e.id)},children:c&&c.map((function(t){return Object(C.jsx)(qe,{params:"donotwrapcell py-5",children:e[t.docField]&&"currency"===t.type?"$ ".concat(e[t.docField]):e[t.docField]},e[t.headerName])}))},e.id)})):""}),Object(C.jsx)(Ye,{params:"is-size-6 is-hidden-tablet",children:l&&void 0!=l?l.map((function(e){return Object(C.jsx)(Ze,{params:"py-5",handleRowClick:function(){return r(e.id)},children:s&&s.map((function(t){return Object(C.jsx)(qe,{params:"donotwrapcell py-3",children:e[t.docField]&&"currency"===t.type?"$ ".concat(e[t.docField]):e[t.docField]},e[t.headerName])}))},e.id)})):""})]})})]})})})},$e=(a(14),a(197),function(e){var t=e.onChange,a=e.value,n=e.params,l=e.children;return Object(C.jsx)("div",{className:"field",children:Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("div",{className:"select ".concat(n),children:Object(C.jsx)("select",{type:"select",onChange:t,defaultValue:a,children:l})})})})}),Je=function(e){e.visible;var t=Object(n.useContext)(S),a=(Object(r.f)(),t.isStyle,t.fetchLocations,t.fetchServices,t.fetchTickets,t.fetchOrders,t.fetchAccounts,t.fetchBills,t.fetchUsers,t.data,t.setData),l=(t.fetchContracts,t.setLocations),i=(t.setServices,t.setTickets,t.setOrders,t.setAccounts,t.setUsers,t.setBills,t.setContracts,t.setDataLoading,t.setCurrentModule),c=t.setCurrentDocID,s=t.setCurrentGrid,d=t.userSession,o=(d.dataLoading,d.currentUser),u=d.currentCompany,b=d.currentCompanyID,p=d.locations,m=d.services,O=d.tickets,h=d.orders,x=d.accounts,f=(d.bills,d.users),N=d.userDefaults,v=d.contracts,F=d.currentGrid,y=d.currentModule,T=d.currentDocID,D=Object(n.useContext)(A),I=D.serviceGridColumns,g=D.serviceGroupByFields,k=D.serviceMobileGridColumns,V=D.locationGridColumns,L=D.locationGroupByFields,w=D.locationMobileGridColumns,E=D.ticketGridColumns,R=D.ticketGroupByFields,B=D.ticketMobileGridColumns,U=D.orderGridColumns,M=D.orderGroupByFields,P=D.orderMobileGridColumns,_=D.accountGridColumns,G=D.accountGroupByFields,z=D.accountMobileGridColumns,H=D.userGridColumns,K=(D.userGroupByFields,D.userDetailFields,D.contractGridColumns),Z=D.contractMobileGridColumns,Y=D.contractGroupByFields,$=D.fetchCore,X=D.core,ee=(D.setCore,Object(n.useRef)(""),Object(n.useState)(void 0!=F?F:(null===N||void 0===N?void 0:N.Grid)||"SERVICES")),te=Object(j.a)(ee,2),ne=te[0],le=te[1],ie=Object(n.useState)(g),ce=Object(j.a)(ie,2),se=ce[0],re=ce[1],de=Object(n.useState)((null===N||void 0===N?void 0:N.groupBy)||"ALL"),oe=Object(j.a)(de,2),ue=oe[0],be=oe[1],je=Object(n.useState)(),pe=Object(j.a)(je,2),me=pe[0],Oe=pe[1],he=Object(n.useState)(!1),xe=Object(j.a)(he,2),fe=xe[0],Ne=xe[1],ve=Object(n.useState)(!1),Fe=Object(j.a)(ve,2),ye=Fe[0],Ce=(Fe[1],Object(n.useState)(!1)),Se=Object(j.a)(Ce,2),Te=Se[0],De=Se[1],Ie=Object(n.useState)(!1),ge=Object(j.a)(Ie,2),ke=ge[0],Ae=ge[1],Ve=Object(n.useState)(),Le=Object(j.a)(Ve,2),we=Le[0],Ee=(Le[1],Object(n.useState)()),Re=Object(j.a)(Ee,2),Be=(Re[0],Re[1],Object(n.useState)([])),Ue=Object(j.a)(Be,2),Me=(Ue[0],Ue[1],Q()),Pe=Me.sortedArr,ze=Me.sortArr,He=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],l=t[1];return{drawers:a,setDrawers:l}}(),Ke=He.drawers,Ze=He.setDrawers;Object(n.useEffect)((function(){$()}),[]),console.log(X),Object(n.useEffect)((function(){}),[fe]),Object(n.useEffect)((function(){re("SERVICES"===ne?g:"TICKETS"===ne?R:"ORDERS"===ne?M:"ACCOUNTS"===ne?G:"LOCATIONS"===ne?L:"CONTRACTS"===ne?Y:g),Je("SERVICES")}),[ne]);var Ye=function(e,t){ze(e,t);l(Pe)},qe=function(){a(),Ne(!1),De(!1)},Je=function(e){switch(e){case"SERVICES":return Oe(Object(J.a)(m));case"TICKETS":return Oe(Object(J.a)(O));case"ORDERS":return Oe(Object(J.a)(h))}};(void 0!=me?me:[]).sort((function(e,t){return new Date(t.LastUpdated).getTime()-new Date(e.LastUpdated).getTime()}));void 0!=me&&me.slice(0,10);var Qe=function(e){i(e.modRef),c(e.id);var t={open:!0,fields:e.colRef,currentCompany:u,isModule:e.modRef,docID:e.id},a=Object(J.a)(Ke);a.push(t),Ze(a)},Xe=f&&Object(J.a)(f).filter((function(e){return e.Email===o})).map((function(e){return e._sys._modules}));return console.log("users",f,"headerArr",Xe),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"pt-4 is-flex is-justify-content-flex-end",children:Object(C.jsxs)(q,{options:"is-mobile pr-3 pb-3 is-gapless",children:[Object(C.jsx)(W,{size:"is-narrow mr-2 mt-1 is-hidden-mobile",children:"View"}),Object(C.jsx)(W,{size:"is-narrow mr-2",children:Object(C.jsxs)($e,{onChange:function(e){return function(e){var t=e.target.value;console.log(t),le(t),s(t)}(e)},params:"shaded",value:ne,children:[Object(C.jsx)("option",{value:"SERVICES",children:"Services"}),Object(C.jsx)("option",{value:"TICKETS",children:"Tickets"}),Object(C.jsx)("option",{value:"ORDERS",children:"Orders"}),Object(C.jsx)("option",{value:"ACCOUNTS",children:"Accounts"}),Object(C.jsx)("option",{value:"LOCATIONS",children:"Locations"}),Object(C.jsx)("option",{value:"USERS",children:"Users"}),Object(C.jsx)("option",{value:"CONTRACTS",children:"Contracts"})]})}),Object(C.jsx)(W,{size:"is-narrow mr-2",children:Object(C.jsx)("div",{className:"select ",children:Object(C.jsxs)("select",{onChange:function(e){return be(e.target.value)},value:ue,children:[Object(C.jsx)("option",{value:"ALL",children:"Show All"}),se.map((function(e){return Object(C.jsxs)("option",{value:e.Value,children:["Group by ",e.Label]})}))]})})}),Object(C.jsx)(W,{size:"is-1",children:Object(C.jsx)("button",{className:"button is-rounded is-link",onClick:function(){return function(){var e=function(e){var t=e.toLowerCase();return e.charAt(0).toUpperCase()+t.slice(1)}(ne);i(e),De(!0)}()},children:"Add"})})]})}),Object(C.jsx)("div",{className:"SERVICES"===ne?"":"is-hidden",children:Object(C.jsx)(We,{data:"SERVICES"===ne?m:null,isGrid:"Services",headerFields:I,mobileHeaderFields:k,handleClick:function(e){return Qe({id:e,colRef:I,modRef:"Services"})},handleSort:function(e){return Ye(e)},groupBy:ue})}),Object(C.jsx)("div",{className:"TICKETS"===ne?"":"is-hidden",children:Object(C.jsx)(We,{data:"TICKETS"===ne?O:null,isGrid:"Tickets",headerFields:E,mobileHeaderFields:B,handleClick:function(e){return Qe({id:e,colRef:E,modRef:"Tickets"})},handleSort:function(e){return Ye(e)},groupBy:ue})}),Object(C.jsx)("div",{className:"ORDERS"===ne?"":"is-hidden",children:Object(C.jsx)(We,{data:"ORDERS"===ne?h:null,isGrid:"Orders",headerFields:U,mobileHeaderFields:P,handleClick:function(e){return Qe({id:e,colRef:U,modRef:"Orders"})},handleSort:function(e){return Ye(e)},groupBy:ue||"ALL"})}),Object(C.jsx)("div",{className:"ACCOUNTS"===ne?"":"is-hidden",children:Object(C.jsx)(We,{data:"ACCOUNTS"===ne?x:null,isGrid:"Accounts",headerFields:_,mobileHeaderFields:z,handleClick:function(e){return Qe({id:e,colRef:_,modRef:"Accounts"})},handleSort:function(e){return Ye(e)},groupBy:ue})}),Object(C.jsx)("div",{className:"LOCATIONS"===ne?"":"is-hidden",children:Object(C.jsx)(We,{data:"LOCATIONS"===ne?p:null,isGrid:"Locations",headerFields:V,mobileHeaderFields:w,handleClick:function(e){return Qe({id:e,colRef:V,modRef:"Locations"})},handleSort:function(e,t){return Ye(e,t)},groupBy:ue})}),Object(C.jsx)("div",{className:"CONTRACTS"===ne?"":"is-hidden",children:Object(C.jsx)(We,{data:"CONTRACTS"===ne?v:null,isGrid:"Contracts",headerFields:K,mobileHeaderFields:Z,handleClick:function(e){return Qe({id:e,colRef:K,modRef:"Contracts"})},handleSort:function(e,t){return Ye(e,t)},groupBy:ue})}),Object(C.jsx)("div",{className:"USERS"===ne?"":"is-hidden",children:Object(C.jsx)(We,{data:"USERS"===ne?f:null,isGrid:"Users",headerFields:H,mobileHeaderFields:H,handleClick:function(e){return Qe({id:e,colRef:H,modRef:"Users"})},handleSort:function(e,t){return Ye(e,t)},groupBy:ue})}),Object(C.jsx)("p",{}),Object(C.jsx)(ae,{direction:"right",checked:fe,handleClose:function(){return qe()},title:u,children:Object(C.jsx)(_e,{currentCompanyID:b,id:T,isModule:y,handleRelatedClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return handleRelatedClick(e)})),isNew:ke||!1,isRefreshDrawer:ye,isDrawerActive:ke||!1,setIsDetailDrawerOpen:function(){return Ne(!fe)},isDetailDrawerOpen:fe,resetIsNew:function(){return Ae()}})}),Object(C.jsx)(ae,{direction:"right",checked:Te,handleClose:function(){return qe()},title:u,children:Object(C.jsx)(_e,{currentCompanyID:b,id:we,isModule:y,isNew:!0,isDrawerActive:!0,setIsDetailDrawerOpen:function(){return Ne(!fe)},isDetailDrawerOpen:fe,resetIsNew:function(){return Ae()}})}),Object(C.jsx)(Ge,{drawers:Ke,handleAddDrawer:function(e){return Qe({id:e.id,modRef:e.colRef})},handleClose:function(e){return function(e){var t=Object(J.a)(Ke);t.splice(e,1),Ze(t)}(e)}})]})},Qe=function(e){var t=e.data,a=e.handleClick,n=e.active;return Object(C.jsxs)("aside",{className:"menu has-text-dark menuDiv",children:[Object(C.jsx)("p",{className:"menu-label pt-4 pl-4",children:"Companies"}),Object(C.jsx)("ul",{className:"menu-list",children:Object(C.jsx)("li",{children:Object(C.jsx)("ul",{children:t&&t.map((function(e){return Object(C.jsx)("li",{children:Object(C.jsx)("a",{className:e.id===n?"is-active px-4 py-2":"px-4 py-2",onClick:function(){return a({id:e.id,Name:e.Name})},children:e.Name})})}))})})})]})};function Xe(){var e=Object(n.useRef)(""),t=Object(n.useRef)(""),a=w().login,l=Object(r.f)(),i=Object(n.useState)(!1),c=Object(j.a)(i,2),s=c[0],d=c[1],o=Object(n.useState)(!0),p=Object(j.a)(o,2),m=p[0],O=(p[1],Object(n.useState)("")),x=Object(j.a)(O,2),f=x[0],N=x[1];function v(){return(v=Object(b.a)(u.a.mark((function n(i){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.preventDefault(),console.log(e.current.value,t.current.value),!e.current.value||""!==t.current.value){n.next=4;break}return n.abrupt("return",N("Both email and password required"));case 4:return n.prev=4,N(""),d(!0),n.next=9,a(e.current.value,t.current.value);case 9:return console.log("signed in"),n.next=12,Object(h.a)(Object(h.d)(F,"AccessLog"),{Email:e.current.value,Date:new Date});case 12:n.sent,l("/dashboard"),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(4),N("Email or Password is incorrect"),console.log("Email or Password is incorrect");case 20:d(!1);case 21:case"end":return n.stop()}}),n,null,[[4,16]])})))).apply(this,arguments)}return Object(C.jsxs)("div",{className:!0===m?"modal is-active":"modal",children:[Object(C.jsx)("div",{className:"modal-background"}),Object(C.jsxs)("div",{className:"modal-card",children:[Object(C.jsx)("div",{className:"modal-card-head",children:"Login"}),Object(C.jsxs)("div",{className:"modal-card-body",children:[Object(C.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{children:"Email"}),Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("input",{className:"input is-rounded",type:"email",ref:e})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{children:"Password"}),Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("input",{className:"input is-rounded",type:"password",ref:t})})]}),Object(C.jsx)("div",{className:""!=f?"block notification is-danger":"block",children:Object(C.jsx)("div",{children:""!=f?f:""})}),Object(C.jsx)("div",{className:"modal-card-foot",children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{children:Object(C.jsx)("button",{type:"submit",className:!0!==s?"button is-rounded is-link level-item":"button is-rounded is-loading",disabled:s,children:"Login"})}),Object(C.jsx)(W,{children:Object(C.jsx)("button",{className:"button is-rounded",onClick:function(){return l("/register")},children:"Create account"})})]})})]}),Object(C.jsx)("button",{className:"modal-close is-large","aria-label":"close",onClick:function(){l(-1)}})]})]})]})}var et=function(){var e=Object(n.useContext)(S),t=e.setUserType,a=e.setUserFirstName,l=e.setCurrentCompany,i=e.setCurrentCompanyID,c=e.setCompanies,s=(e.setDataLoading,e.fetchLocations),r=e.fetchServices,o=e.fetchTickets,p=e.fetchOrders,m=e.fetchAccounts,O=e.fetchBills,x=e.fetchEvents,f=e.fetchUsers,N=e.fetchContracts,v=(e.setLocations,e.setServices,e.setTickets,e.setOrders,e.setAccounts,e.setUsers,e.setUserDefaults),y=(e.setBills,e.setContracts,e.userSession),T=y.currentUser,D=y.userType,I=y.currentCompany,g=y.companies,k=(y.dataLoading,y.currentCompanyID),A=(y.locations,y.services,y.tickets,y.orders,y.accounts,y.bills,y.users,y.contracts,void 0!=T?T:""),V=void 0!=D?D:"",L=Object(n.useState)(!1),w=Object(j.a)(L,2),E=(w[0],w[1],Object(n.useState)(!1)),R=Object(j.a)(E,2),B=(R[0],R[1],Object(n.useState)(!1)),U=Object(j.a)(B,2),M=U[0],P=U[1];Object(n.useEffect)((function(){_(T)}),[A]),Object(n.useEffect)((function(){G(),P(!0)}),[V]),Object(n.useEffect)((function(){0!=M&&z()}),[M]),Object(n.useEffect)((function(){z()}),[I]);var _=function(){var e=Object(b.a)(u.a.mark((function e(n){var l,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=Object(h.k)(Object(h.d)(F,"Users"),Object(h.n)("Email","==",n)),e.next=3,Object(h.h)(l);case 3:return i=e.sent,c=i.docs.map((function(e){return Object(d.a)({id:e.id,FirstName:e.FirstName,Type:e.Type},e.data())})),e.next=7,a(c[0].FirstName);case 7:return e.next=9,t(c[0].Type);case 9:return e.next=11,v(c[0].Defaults&&c[0].Defaults);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){""!=D&"Admin"===D?""===I&&K():""===I&&H()},z=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return e.next=4,r();case 4:return e.next=6,o();case 6:return e.next=8,p();case 8:return e.next=10,m();case 10:return e.next=12,O();case 12:return e.next=14,x();case 14:return e.next=16,f();case 16:return e.next=18,N();case 18:return t=setTimeout((function(){P(!1)}),1500),e.abrupt("return",(function(){return clearTimeout(t)}));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.k)(Object(h.d)(F,"Companies"),Object(h.n)("Users","array-contains",T)),e.next=3,Object(h.h)(t);case 3:return a=e.sent,e.next=6,a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));case 6:n=e.sent,i(n[0].id),l(n[0].Name),c(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(h.k)(Object(h.d)(F,"Companies")),e.next=3,Object(h.h)(Object(h.d)(F,"Companies"));case 3:return t=e.sent,e.next=6,t.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));case 6:a=e.sent,i(a[0].id),l(a[0].Name),c(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)($,{active:M,children:void 0!=T?Object(C.jsxs)(q,{options:"is-12 is-mobile ",children:[Object(C.jsx)(W,{size:"is-3 is-hidden-mobile",children:Object(C.jsx)(Qe,{data:g&&g,handleClick:function(e){return function(e){P(!0);var t=e.id,a=e.Name;l(a),i(t)}(e)},active:k})}),Object(C.jsx)(W,{size:"is-hidden"}),Object(C.jsx)(W,{children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"pt-4 pl-4 is-hidden-tablet",children:Object(C.jsx)(Y,{})}),Object(C.jsx)("div",{className:"block",children:Object(C.jsx)(Je,{})})]})}),Object(C.jsx)(W,{size:"is-hidden"})]}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Xe,{})})})},tt=function(){var e=Object(r.f)(),t=(Object(n.useContext)(S).userSession.userFirstName,w()),a=t.currentUser,l=t.logOutUser,i=Object(n.useState)(!1),c=Object(j.a)(i,2),s=c[0],d=c[1],o=function(){var t=Object(b.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.signOut();case 2:l(),e("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(C.jsxs)("nav",{className:"navbar is-black is-fixed-top ",role:"navigation","aria-label":"main navigation",children:[Object(C.jsxs)("div",{className:"navbar-brand",children:[Object(C.jsxs)("div",{className:"navbar-item",children:[Object(C.jsx)("a",{onClick:function(){return e("/")},className:"has-text-white is-size-4",children:Object(C.jsx)("strong",{children:"TELEMI"})}),Object(C.jsx)("span",{className:"is-size-7 pl-1",children:"beta"})]}),Object(C.jsxs)("a",{onClick:function(){return d(!s)},role:"button",className:"navbar-burger burger ".concat(s?"is-active":""),"aria-label":"menu","aria-expanded":"false","data-target":"tiemsNavbar",children:[Object(C.jsx)("span",{"aria-hidden":"true"}),Object(C.jsx)("span",{"aria-hidden":"true"}),Object(C.jsx)("span",{"aria-hidden":"true"})]})]}),Object(C.jsx)("div",{className:"navbar-menu ".concat(!0===s?"is-active":""),"aria-label":"menu",id:"tiemsNavbar",children:Object(C.jsx)("div",{className:"navbar-end",children:void 0!=a?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("a",{className:"navbar-item",onClick:function(){return e("/search")},children:Object(C.jsx)("span",{className:"icon is-medium",children:Object(C.jsx)(U.o,{})})}),Object(C.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[Object(C.jsx)("a",{className:"navbar-link",onClick:function(){return e("/dashboard")},children:Object(C.jsx)("span",{className:"icon is-medium",children:Object(C.jsx)(U.t,{})})}),Object(C.jsx)("a",{className:"navbar-link",onClick:function(){return e("/settings")},children:Object(C.jsx)("span",{className:"icon is-medium",children:Object(C.jsx)(U.g,{})})}),Object(C.jsx)("div",{className:"navbar-dropdown",children:Object(C.jsx)("a",{onClick:function(){return o()},className:"navbar-item",children:"Logout"})})]})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"navbar-item",onClick:function(){e("/register")},children:Object(C.jsx)("button",{className:"button is-small is-rounded has-background-grey-lighter",children:"Create Account"})}),Object(C.jsx)("a",{onClick:function(){return e("/login")},className:"navbar-item",children:"Login"})]})})})]})},at=function(e){var t=e.title,a=(e.subtitle,e.handleGoBack),n=(e.pageError,e.pageSuccess),l=e.children;Object(r.f)();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"content pt-5 pb-5",children:Object(C.jsxs)(q,{options:"is-mobile is-vcentered",children:[Object(C.jsx)(W,{size:"is-narrow",children:Object(C.jsxs)("div",{className:"icon is-large",children:[Object(C.jsx)(U.c,{className:"icon pl-1 mx-2 my-2",onClick:function(){return a()}})," "]})}),Object(C.jsx)(W,{children:Object(C.jsx)("span",{className:"title",children:Object(C.jsx)("div",{className:"donotwrap",children:t})})})]})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:n&&0!=n?"notification is-success is-overlay is-align-content-center":"is-hidden",children:n}),Object(C.jsx)("div",{children:l})]})]})},nt=function(e){var t=e.label,a=e.options,n=e.handleSubmit;return Object(C.jsx)("div",{className:"field",children:Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("button",{className:"button is-rounded ".concat(a),onClick:n,children:t})})})},lt=function(e){e.open;var t=Object(r.f)(),a=Object(n.useContext)(S),l=(a.setDataLoading,a.userSession.currentUser,Object(n.useState)(!0)),i=Object(j.a)(l,2),c=(i[0],i[1],Object(n.useState)()),s=Object(j.a)(c,2),d=s[0],o=(s[1],Object(n.useState)()),p=Object(j.a)(o,2),m=p[0],O=(p[1],Object(n.useRef)("")),h=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ne?ne.filter((function(e){return"Name"===e.uid})).map((function(e){O.current.value})):"",n=ne?ne.filter((function(e){return"Users"===e.uid})).map((function(e){})):"",l={fields:[].concat(Object(J.a)(ne),[a,n])},console.log("name",a,"data",l);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(at,{subtitle:"Add Company",handleSubmit:h,status:"new",handleToggleReadOnly:function(){return setInputReadOnly(!inputReadOnly)},pageSuccess:m,pageError:d,handleGoBack:function(){return history.goBack()},children:Object(C.jsxs)("form",{children:[Object(C.jsx)(De,{inputFieldLabel:"Company Name",inputFieldRef:O}),Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-narrow",children:Object(C.jsx)(nt,{label:"Add",handleSubmit:h,options:"is-link"})}),Object(C.jsx)(W,{size:"is-narrow",children:Object(C.jsx)(nt,{label:"Cancel",handleSubmit:function(){return t("/dashboard")}})})]})]})})},it=[],ct=[{label:"Basic Info",inputFieldType:"tabTitle"},{label:"Service Location",dataField:"LocationName",inputFieldType:"related-select",inputSource:"",inputID:"id",inputValue:"Name",relatedCollection:"Locations",relatedDataField:"LocationID",relatedInputLabel:"Location Name",relatedInputFields:[{label:"Location Name",dataField:"Name",inputFieldType:"text"},{label:"Address 1",dataField:"Address1",inputFieldType:"text"},{label:"Address 2",dataField:"Address2",inputFieldType:"text"},{label:"City",dataField:"City",inputFieldType:"text"},{label:"State",dataField:"State",inputFieldType:"text"},{label:"Province/Region",dataField:"Region",inputFieldType:"text"},{label:"Zip",dataField:"Zip",inputFieldType:"text"},{label:"Country",dataField:"Country",inputFieldType:"text"}],relatedDataType:"Location",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Type",dataField:"Type",inputFieldType:"select",inputSource:g,inputID:"Name",inputValue:"Value",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Service Name",dataField:"VendorServiceName",inputFieldType:"text",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Access Type",dataField:"AccessType",inputFieldType:"select",inputSource:k,inputID:"Name",inputValue:"Value",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Asset ID",dataField:"AssetID",inputFieldType:"text",tab:"BASIC INFO",tabLabel:"BASIC INFO",isHeader:!0},{label:"Bandwidth",dataField:"Bandwidth",inputFieldType:"text",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Monthly Cost",dataField:"MRC",inputFieldType:"currency",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Status",dataField:"Status",inputFieldType:"status",inputSource:[{Name:"Active",Value:"Active"},{Name:"Disconnected",Value:"Disconnected"},{Name:"Pending Activation",Value:"Pending Activation"},{Name:"Pending Disconnect",Value:"Pending Disconnect"}],inputID:"Name",inputValue:"Value",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Details",inputFieldType:"tabTitle"},{label:"Service Start Date",dataField:"StartDate",visible:!0,inputFieldType:"datepicker",tab:"DETAILS",tabLabel:"DETAILS"},{label:"Last Mile",dataField:"LastMile",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"DETAILS",tabLabel:"DETAILS"},{label:"LEC Circuit ID",dataField:"LECCircuitID",inputFieldType:"text",tab:"DETAILS",tabLabel:"DETAILS"},{label:"IPV4 Info",dataField:"IPV4",inputFieldType:"text-area",tab:"DETAILS",tabLabel:"DETAILS"},{label:"IPV6 Info",dataField:"IPV6",inputFieldType:"text-area",tab:"DETAILS",tabLabel:"DETAILS"},{label:"IP Assignments",dataField:"IPAssignments",inputFieldType:"array-map-list",relatedInputFields:[{label:"Version",dataField:"Version",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"v4",Value:"v4"},{Name:"v6",Value:"v6"}]},{label:"IP Address",dataField:"IPAddress",inputFieldType:"text"},{label:"Range",dataField:"Range",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"/30",Value:"/30"},{Name:"/29",Value:"/29"},{Name:"/28",Value:"/28"},{Name:"/27",Value:"/27"},{Name:"/26",Value:"/26"},{Name:"/25",Value:"/25"},{Name:"/24",Value:"/24"},{Name:"/23",Value:"/23"},{Name:"/22",Value:"/22"},{Name:"/21",Value:"/21"},{Name:"/20",Value:"/20"},{Name:"/19",Value:"/19"},{Name:"/18",Value:"/18"},{Name:"/17",Value:"/17"},{Name:"/16",Value:"/16"}]}],tab:"DETAILS",tabLabel:"DETAILS",hasBreakBefore:!0},{label:"Demarc Information",dataField:"DemarcInfo",visible:!0,inputFieldType:"text-area",tab:"DETAILS",tabLabel:"DETAILS"},{label:"Related Orders",dataField:"OrderNum",inputFieldType:"map-list",inputSource:"",inputID:"id",inputValue:"OrderNum",relatedCollection:"Orders",relatedDataField:"ServiceID",relatedInputLabel:"Order Number",relatedInputFields:[{label:"Date",dataField:"OrderDate",inputFieldType:"datepicker"},{label:"Existing",dataField:"OrderNum",inputFieldType:"related-select",inputSource:"",inputID:"id",relatedCollection:"Orders",relatedDataField:"OrderID",relatedInputLabel:"Order",relatedInputFields:[{label:"Order",dataField:"OrderNum",inputFieldType:"text"}],relatedDataType:"Order"},{label:"Order",dataField:"OrderNum",inputFieldType:"text"},{label:"Status",dataField:"Status",inputFieldType:"text"}],tab:"DETAILS",tabLabel:"DETAILS",hasBreakBefore:!0},{label:"Related Order ID",dataField:"OrderID",visible:!1,inputSource:[],inputID:"ID",inputValue:"id",tab:"DETAILS",tabLabel:"DETAILS"},{label:"Support",inputFieldType:"tabTitle"},{label:"Related Tickets",dataField:"TicketNum",inputFieldType:"map-list",inputSource:"",inputID:"id",inputValue:"TicketNum",relatedCollection:"Tickets",relatedDataField:"ServiceID",relatedInputLabel:"Ticket Number",relatedInputFields:[{label:"Ticket",dataField:"TicketNum",inputFieldType:"text"},{label:"Type",dataField:"Type",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Service",Value:"Service"},{Name:"Billing",Value:"Billing"},{Name:"Disconnect",Value:"Disconnect"}]},{label:"Status",dataField:"Status",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Submitted",Value:"Submitted"},{Name:"In Process",Value:"In Process"},{Name:"Completed",Value:"Completed"},{Name:"Closed",Value:"Closed"}]}],tab:"SUPPORT"},{label:"Billing",inputFieldType:"tabTitle"},{label:"Related Account",dataField:"AccountNum",visible:!0,inputFieldType:"related-select",inputSource:"",inputID:"id",inputValue:"AccountNum",relatedCollection:"Accounts",relatedDataField:"AccountID",relatedInputLabel:"Account Number",relatedInputFields:[{label:"Account Number",dataField:"AccountNum",inputFieldType:"text"}],relatedDataType:"Account",tab:"BILLING",tabLabel:"BILLING"},{label:"Sub Account",dataField:"SubAccountNum",inputFieldType:"text",tab:"BILLING",tabLabel:"BILLING"},{label:"Group Number",dataField:"GroupNum",inputFieldType:"text",tab:"BILLING",tabLabel:"BILLING"},{label:"Last Bill Amount",dataField:"LastBillAmount",inputFieldType:"currency",tab:"BILLING",tabLabel:"BILLING"},{label:"Bills",dataField:"Bills",inputFieldType:"map-list",relatedCollection:"Bills",relatedDataField:"ServiceID",relatedInputLabel:"Bill",relatedInputFields:[{label:"Date",dataField:"Date",inputFieldType:"datepicker"},{label:"Base Cost",dataField:"Cost",inputFieldType:"currency"},{label:"Total Cost",dataField:"TotalCost",inputFieldType:"currency"},{label:"Disputed",dataField:"DisputedCost",inputFieldType:"currency"}],tab:"BILLING",tabLabel:"BILLING"},{label:"Notes",inputFieldType:"tabTitle"},{label:"",dataField:"Notes",inputFieldType:"map-list",relatedCollection:"Notes",relatedDataField:"ServiceID",relatedInputLabel:"Note",relatedInputFields:[{label:"Date",dataField:"Date",inputFieldType:"datepicker"},{label:"Note",dataField:"NoteBody",inputFieldType:"text-area"}],tab:"NOTES",tabLabel:"NOTES"}],st=[{label:"Ticket Number",dataField:"TicketNum",inputFieldType:"text",tab:"BASIC INFO",isHeader:!0},{label:"Service Location",dataField:"LocationName",inputFieldType:"related-select",inputSource:"",inputID:"id",inputValue:"Name",relatedCollection:"Locations",relatedDataField:"LocationID",relatedInputLabel:"Location Name",relatedInputFields:[{label:"Location Name",dataField:"Name",inputFieldType:"text"},{label:"Address 1",dataField:"Address1",inputFieldType:"text"},{label:"Address 2",dataField:"Address2",inputFieldType:"text"},{label:"City",dataField:"City",inputFieldType:"text"},{label:"State",dataField:"State",inputFieldType:"text"},{label:"Province/Region",dataField:"Region",inputFieldType:"text"},{label:"Zip",dataField:"Zip",inputFieldType:"text"},{label:"Country",dataField:"Country",inputFieldType:"text"}],relatedDataType:"Location",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Service Location ID",dataField:"LocationID",visible:!1,inputSource:[],inputID:"ID",inputValue:"id",tab:"BASIC INFO"},{label:"Related Account",dataField:"AccountNum",visible:!0,inputFieldType:"related-select",inputSource:"",inputID:"id",inputValue:"AccountNum",relatedCollection:"Accounts",relatedDataField:"AccountID",relatedInputLabel:"Account Number",relatedInputFields:[{label:"Account Number",dataField:"AccountNum",inputFieldType:"text"}],relatedDataType:"Account",tab:"BILLING",tabLabel:"BILLING"},{label:"Related Account ID",dataField:"AccountID",visible:!1,inputSource:[],inputID:"ID",inputValue:"id",tab:"BASIC INFO"},{label:"Related Service",dataField:"ServiceAssetID",inputFieldType:"related-select",inputSource:it,inputID:"id",inputValue:"AssetID",relatedCollection:"Services",relatedDataField:"ServiceID",relatedInputLabel:"Related Asset",relatedInputFields:[{label:"Asset ID",dataField:"AssetID",inputFieldType:"text"}],relatedDataType:"Service",tab:"DETAILS",tabLabel:"DETAILS"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"BASIC INFO"},{label:"Date Submitted",dataField:"DateSubmitted",inputFieldType:"datepicker",tab:"BASIC INFO"},{label:"Type",dataField:"Type",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Service",Value:"Service"},{Name:"Billing",Value:"Billing"},{Name:"Disconnect",Value:"Disconnect"}],tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Status",dataField:"Status",inputFieldType:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"Submitted",Value:"Submitted"},{Name:"In Process",Value:"In Process"},{Name:"Completed",Value:"Completed"},{Name:"Closed",Value:"Closed"}],tab:"BASIC INFO"},{label:"Details",dataField:"Details",inputFieldType:"text-area",tab:"BASIC INFO"},{label:"Notes",dataField:"NoteID",inputFieldType:"map-list",inputSource:"",inputID:"id",inputValue:"TicketID",relatedCollection:"Notes",relatedDataField:"NoteID",relatedInputLabel:"Notes",relatedInputFields:[{label:"Date",dataField:"Date",inputFieldType:"datepicker"},{label:"Note",dataField:"Note",inputFieldType:"textarea"}],relatedDataType:"Note",tab:"NOTES",tabLabel:"NOTES"}],rt=[{label:"Account Number",dataField:"AccountNum",inputFieldType:"text",isHeader:!0,tab:"BASIC INFO"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"BASIC INFO"},{label:"Date Billing Started",dataField:"BillingStartDate",inputFieldType:"datepicker",tab:"DETAILS"},{label:"Type",dataField:"Type",inputFieldType:"text",tab:"DETAILS"},{label:"Related Services",dataField:"Services",inputFieldType:"map-list",inputSource:"",inputID:"id",inputValue:"AssetID",relatedCollection:"Services",relatedDataField:"AccountID",relatedInputLabel:"Related Asset",relatedInputFields:[{label:"Asset ID",dataField:"AssetID",inputFieldType:"text"},{label:"Service Location",dataField:"LocationName",inputFieldType:"text"},{label:"Group",dataField:"GroupNum",inputFieldType:"text"}],relatedDataType:"Service",tab:"BASIC INFO",tabLabel:"BASIC INFO",hasBreakBefore:!0},{label:"Bills",dataField:"Bills",inputFieldType:"map-list",relatedCollection:"Bills",relatedDataField:"AccountID",relatedInputFields:[{label:"Date",dataField:"Date",inputFieldType:"datepicker"},{label:"Sub Account",dataField:"SubAccountNum",inputFieldType:"text"},{label:"Asset ID",dataField:"AssetID",inputFieldType:"text"},{label:"Cost",dataField:"Cost",inputFieldType:"currency"}],tab:"BILLING",tabLabel:"BILLING"}],dt=[{label:"Service Location",dataField:"LocationName",inputFieldType:"related-select",inputSource:"",inputID:"id",inputValue:"Name",relatedCollection:"Locations",relatedDataField:"LocationID",relatedInputLabel:"Location Name",relatedInputFields:[{label:"Location Name",dataField:"Name",inputFieldType:"text"},{label:"Address 1",dataField:"Address1",inputFieldType:"text"},{label:"Address 2",dataField:"Address2",inputFieldType:"text"},{label:"City",dataField:"City",inputFieldType:"text"},{label:"State",dataField:"State",inputFieldType:"text"},{label:"Province/Region",dataField:"Region",inputFieldType:"text"},{label:"Zip",dataField:"Zip",inputFieldType:"text"},{label:"Country",dataField:"Country",inputFieldType:"text"}],relatedDataType:"Location",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Order Number",dataField:"OrderNum",inputFieldType:"text",isHeader:!0,tab:"BASIC INFO"},{label:"Date Ordered",dataField:"OrderDate",inputFieldType:"datepicker",tab:"BASIC INFO"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"BASIC INFO"},{label:"Service Name",dataField:"VendorServiceName",inputFieldType:"text",tab:"BASIC INFO"},{label:"Order Type",dataField:"Type",visible:!1,inputField:"select",inputID:"Name",inputValue:"Value",inputSource:[{Name:"New",Value:"New"},{Name:"Change",Value:"Change"},{Name:"Disconnect",Value:"Disconnect"}],tab:"BASIC INFO"},{label:"Monthly Cost",dataField:"MRC",inputFieldType:"currency",tab:"BASIC INFO"},{label:"Status",dataField:"Status",inputFieldType:"select",inputID:"id",inputValue:"Name",inputSource:[{Name:"Ordered",Value:"Ordered"},{Name:"Completed",Value:"Completed"},{Name:"Cancelled",Value:"Cancelled"}],tab:"BASIC INFO"},{label:"Bandwidth",dataField:"Bandwidth",inputFieldType:"text",tab:"DETAILS"},{label:"Related Service",dataField:"AssetID",inputFieldType:"related-select",inputSource:it,inputID:"id",inputValue:"AssetID",relatedCollection:"Services",relatedDataField:"ServiceID",relatedInputLabel:"Related Asset",relatedInputFields:[{label:"Asset ID",dataField:"AssetID",inputFieldType:"text"},{label:"Location",dataField:"LocationName",inputFieldType:"text"}],relatedDataType:"Service",tab:"DETAILS",tabLabel:"DETAILS"},{label:"Details",dataField:"Details",inputFieldType:"array-list",tab:"DETAILS"},{label:"Notes",dataField:"Notes",inputFieldType:"text-area",tab:"NOTES"}],ot=[{label:"Location",dataField:"LocationName",inputFieldType:"related-select",inputSource:"",inputID:"id",inputValue:"Name",relatedCollection:"Locations",relatedDataField:"LocationID",relatedInputLabel:"Location Name",relatedInputFields:[{label:"Location Name",dataField:"Name",inputFieldType:"text"},{label:"Address 1",dataField:"Address1",inputFieldType:"text"},{label:"Address 2",dataField:"Address2",inputFieldType:"text"},{label:"City",dataField:"City",inputFieldType:"text"},{label:"State",dataField:"State",inputFieldType:"text"},{label:"Province/Region",dataField:"Region",inputFieldType:"text"},{label:"Zip",dataField:"Zip",inputFieldType:"text"},{label:"Country",dataField:"Country",inputFieldType:"text"}],relatedDataType:"Location",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Account Number",dataField:"AccountNum",inputFieldType:"text",tab:"BASIC INFO"},{label:"Account ID",dataField:"AccountID",inputFieldType:"text",tab:"BASIC INFO"},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"BASIC INFO"},{label:"Asset ID",dataField:"AssetID",inputField:"text",tab:"BASIC INFO"},{label:"Amount Billed",dataField:"Cost",inputFieldType:"currency",tab:"BASIC INFO"},{label:"Total Billed",dataField:"TotalCost",inputFieldType:"currency",tab:"BASIC INFO"},{label:"Disputed Amount",dataField:"DisputedCost",inputFieldType:"currency",tab:"BASIC INFO"},{label:"Company Name",visible:!1,dataField:"CompanyName",inputFieldType:"text",tab:"BASIC INFO"},{label:"Company ID",visible:!1,dataField:"CompanyID",inputFieldType:"text",tab:"BASIC INFO"}],ut=[{label:"Location Name",dataField:"Name",inputFieldType:"text",tab:"BASIC INFO",isHeader:!0},{label:"Address 1",dataField:"Address1",inputFieldType:"text",tab:"BASIC INFO"},{label:"Address 2",dataField:"Address2",inputFieldType:"text",tab:"BASIC INFO"},{label:"City",dataField:"City",inputFieldType:"text",tab:"BASIC INFO"},{label:"State",dataField:"State",inputFieldType:"select",inputSource:I,inputValue:"code",tab:"BASIC INFO"},{label:"Province/Region",dataField:"Region",inputFieldType:"text",tab:"BASIC INFO"},{label:"Zip",dataField:"Zip",inputFieldType:"text",tab:"BASIC INFO"},{label:"Country",dataField:"Country",inputFieldType:"text",tab:"BASIC INFO"},{label:"Full Address",dataField:"FullAddress",inputFieldType:"concat",visible:!1,tab:"BASIC INFO"}],bt=[{label:"Contract Name",dataField:"Name",inputFieldType:"text",tab:"BASIC INFO",tabLabel:"BASIC INFO",isHeader:!0},{label:"Vendor",dataField:"Vendor",inputFieldType:"select",inputSource:D,inputID:"Name",inputValue:"Value",tab:"BASIC INFO",tablLabel:"BASIC INFO"},{label:"Date Signed",dataField:"Date",inputFieldType:"datepicker",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Term",dataField:"Term",inputFieldType:"select",inputSource:[{Name:"Month to Month",Value:"Month to Month"},{Name:"12",Value:"12"},{Name:"24",Value:"24"},{Name:"36",Value:"36"},{Name:"48",Value:"48"},{Name:"60",Value:"60"}],inputID:"Name",inputValue:"Value",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"File",dataField:"FileURL",inputFieldType:"file-field",tab:"BASIC INFO",tabLabel:"BASIC INFO"}],jt=[{label:"Email Address",dataField:"Email",inputFieldType:"text",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"First Name",dataField:"FirstName",inputFieldType:"text",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Last Name",dataField:"LastName",inputFieldType:"text",tab:"BASIC INFO",tabLabel:"BASIC INFO"},{label:"Type",dataField:"Type",inputFieldType:"select",inputSource:[{Name:"User",Value:"User"},{Name:"Agent",Value:"Agent"}],inputID:"Name",inputValue:"Value",tab:"BASIC INFO",tabLabel:"BASIC INFO"}],pt=function(e){var t=e.size,a=e.children;return Object(C.jsx)("div",{className:t,children:a})},mt=function(e){var t=Object(r.g)(),a=Object(r.f)(),l=(t.isModule&&t||null).isModule,i=Object(n.useContext)(S),c=(i.serviceTypes,i.accessTypes,i.vendorList,i.isStyle,i.setBills),s=(i.setOrders,i.setCurrentDate),o=(i.setLocations,i.setAccounts,i.setServices,i.setUsers,i.setNotes),p=i.userSession,m=p.locations,O=p.services,h=p.orders,x=p.accounts,f=p.tickets,N=(p.contracts,p.users,p.bills),v=p.notes,T=p.currentCompany,D=p.currentUser,g=t.currentCompanyID,k=(e.location.state||!1).isNew,A=(e.location.state||!1).isDrawerActive,V=Object(n.useState)(""),L=Object(j.a)(V,2),w=L[0],E=L[1],R=Object(n.useState)(""),B=Object(j.a)(R,2),U=B[0],M=B[1],P=Object(n.useState)(""),_=Object(j.a)(P,2),G=_[0],z=_[1],H=Object(n.useState)(),K=Object(j.a)(H,2),Z=K[0],Y=K[1],Q=Object(n.useState)(!0),X=Object(j.a)(Q,2),te=X[0],ae=X[1],ne=Object(n.useState)(!1),le=Object(j.a)(ne,2),ie=le[0],se=le[1],re=Object(n.useState)([]),de=Object(j.a)(re,2),oe=de[0],ue=de[1],be=Object(n.useState)(!1),je=Object(j.a)(be,2),pe=je[0],me=je[1],he=Object(n.useState)(!1),xe=Object(j.a)(he,2),fe=xe[0],Ne=xe[1],ve=Object(n.useState)(!1),Fe=Object(j.a)(ve,2),Ce=Fe[0],Se=Fe[1],Te=Object(n.useState)(""),De=Object(j.a)(Te,2),Ie=De[0],ge=De[1],ke=Object(n.useState)(""),Ae=Object(j.a)(ke,2),we=Ae[0],Ee=Ae[1],Re=Object(n.useState)(!1),Be=Object(j.a)(Re,2),Ue=Be[0],Me=Be[1],_e=Object(n.useState)("BASIC INFO"),Ge=Object(j.a)(_e,2),ze=Ge[0],He=Ge[1],Ke=Object(n.useState)(!1),Ze=Object(j.a)(Ke,2),Ye=Ze[0],qe=Ze[1],We=Object(n.useState)(),$e=Object(j.a)(We,2),Je=$e[0],Qe=$e[1],Xe=Object(n.useState)(!1),et=Object(j.a)(Xe,2),tt=et[0],nt=et[1];Object(n.useEffect)((function(){ae(!0),lt(l),it(A,k),xt(),ft(),Nt()}),[]),Object(n.useEffect)((function(){ue(),it(A,k),ae(!0),lt(l),xt(),ft(),Nt()}),[l]),Object(n.useEffect)((function(){lt(l),ft(),Nt(),He("BASIC INFO"),ht("LocationName",m,oe),ht("OrderNum",h,oe),ht("Services",O,oe),ht("AccountNum",x,oe),ht("Bills",N,oe),ht("Notes",v,oe),ht("State",I,oe),ht("TicketNum",f,oe),Ot(),se(!1),mt(),Ft()}),[te]),Object(n.useEffect)((function(){Ie.pageFields&&Ie.pageFields&&It(Ie)}),[Ie]);var lt=function(e){switch(e){case"Services":return ue(ct);case"Accounts":return ue(rt);case"Orders":return ue(dt);case"Tickets":return ue(st);case"Locations":return ue(ut);case"Contracts":return ue(bt);case"Bills":return ue(ot);case"Notes":return ue(notesDetailFields);case"Users":return ue(jt)}},it=function(e,t){"true"===e&&qe(!0),"true"===t&&Y(!0)},mt=function(){var e;E(Object(d.a)(Object(d.a)({},w),{},(e={},Object(ee.a)(e,"CreatedDate",s()),Object(ee.a)(e,"CreatedBy",D),Object(ee.a)(e,"CompanyID",g),Object(ee.a)(e,"CompanyName",T),e)))},Ot=function(){oe.filter((function(e){return!0===e.isHeader})).map((function(e){return z(e.dataField)}))},ht=function(e,t,a){var n=a.findIndex((function(t){return t.dataField===e}));a[n]=Object(d.a)(Object(d.a)({},a[n]),{},{inputSource:t})},xt=function(){var e=Object(b.a)(u.a.mark((function e(){var a,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.collection(l).doc(t.id).get();case 2:a=e.sent,n=a.data(),i=a.id,M(Object(d.a)({id:i},n)),E(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(b.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.collection("Bills").where("ServiceID","==",t.id).get();case 2:return a=e.sent,e.next=5,a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));case 5:return n=e.sent,e.next=8,c(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(b.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.collection("Notes").where("ServiceID","==",t.id).get();case 2:return a=e.sent,e.next=5,a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));case 5:return n=e.sent,e.next=8,o(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=y.ref(g).child("".concat(w.Name&&w.Name,"'-'").concat(T)),e.next=4,n.put(a);case 4:return e.next=6,n.getDownloadURL();case 6:l=e.sent,E(Object(d.a)(Object(d.a)({},w),{},Object(ee.a)({},"FileURL",l)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ft=function(){setTimeout((function(){ae(!1)}),1e3)};console.log(w);var yt=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection(l).doc().set(t);case 3:Ne("Changes Saved!"),setTimeout((function(){Ne(!1)}),1e3),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Error saving"),setTimeout((function(){Se(!1)}),1e3);case 11:Y(!1),se(!0),qe(!Ye);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(b.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection(l).doc(t.id).update(Object(d.a)(Object(d.a)({},w),{},(a={},Object(ee.a)(a,"LastUpdated",s()),Object(ee.a)(a,"LastUpdateBy",D),a)));case 3:Ne("CHANGES SAVED!"),setTimeout((function(){Ne(!1)}),1e3),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("ERROR SAVING CHANGES");case 10:Y(!1),se(!0),qe(!Ye);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection(Ie.collection).doc().set(we);case 3:Ne("New ".concat(Ie.label," Saved")),setTimeout((function(){Ne(!1)}),1e3),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Error Saving New ".concat(Ie.label)),setTimeout((function(){Se(!1)}),1e3);case 11:Me(!Ue),se(!0),ae(!te);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Tt=function(){qe(!Ye)},Dt=function(e){var a;ge(Object(d.a)(Object(d.a)({},Ie),{},{collection:e.relatedCollection,pageFields:e.relatedInputFields,label:e.label})),Ee((a={},Object(ee.a)(a,"CompanyID",g),Object(ee.a)(a,"CompanyName",T),Object(ee.a)(a,"CreatedDate",s()),Object(ee.a)(a,"CreatedBy",D),Object(ee.a)(a,e.relatedDataField,t.id),a)),Me(!0)},It=function(e){var t=e.pageFields.filter((function(e){return void 0!=e.value})).map((function(e){return Object(ee.a)({},e.docField,U[e.value])})),a=Object.assign.apply(Object,[{}].concat(Object(J.a)(t),[we]));Ee(Object(d.a)(Object(d.a)({},we),a))};return Object(C.jsxs)($,{active:te,children:[Object(C.jsx)(at,{title:T,subtitle:U&&[U].map((function(e){return e[G]&&e[G]})),status:"view",handleToggle:function(){return Tt()},pageSuccess:fe,pageError:Ce,handleGoBack:function(){a(-1)},children:i&&void 0!=i.userSession?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ye,{views:["BASIC INFO","DETAILS","SUPPORT","BILLING","NOTES"],activeView:"BASIC INFO",handleToggle:function(){return me(!pe)},isActive:pe,handleView:function(e){return He(e)},value:U&&[U].map((function(e){return e[G]&&e[G]})),title:l,handleEditDrawer:function(){return Tt()}}),Object(C.jsxs)("div",{className:"box is-rounded mx-2",style:{minHeight:"50vh"},children:[Object(C.jsx)("article",{className:"hero title is-small is-size-5",children:ze}),Object(C.jsx)("div",{className:"block",children:U&&oe.map((function(e){return Object(C.jsx)(C.Fragment,{children:[U].map((function(t){return Object(C.jsxs)("div",{className:0!=e.visible&e.tab===ze?"":"is-hidden",children:[Object(C.jsx)("hr",{className:!0===e.hasBreakBefore?"":"is-hidden"}),Object(C.jsxs)(q,{options:"is-mobile",children:["map-list"===e.inputFieldType?"":Object(C.jsx)(W,{size:"is-two-fifths pl-5",children:Object(C.jsx)(pt,{children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-11",children:Object(C.jsx)("div",{children:e.label},e.label)}),Object(C.jsx)(W,{children:":"})]})})}),Object(C.jsxs)(W,{size:"pl-5",children:["map-list"===e.inputFieldType?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{children:[e.label,Object(C.jsx)("a",{className:"link has-text-weight-normal is-size-7 pl-2",onClick:function(){return Dt(e)},children:"(add)"})," "]},e.label)}):null,Object(C.jsx)(Oe,{field:e,fieldData:t,relatedDataMap:e.inputSource&&e.inputSource.filter((function(a){return a[e.relatedDataField]===t.id})).map((function(e){return Object(d.a)({},e)})),toggleViewDrawer:function(){return Tt()},toggleFieldDropDown:function(){return nt(!tt)},isViewRelatedActive:tt,handleClick:function(e){return function(e){ae(!0),a({pathname:"/".concat(e.colRef,"/").concat(g,"/").concat(e.id),state:{services:O,locations:m,accounts:x}})}(e)}})]})]})]})}))})}))}),Object(C.jsx)(ce,{title:"Edit",checked:Ye,handleClose:function(){return qe(!Ye)},direction:"right",handleSubmit:function(){!0===Z?yt(w):Ct(w)},children:Object(C.jsx)(Ve,{checked:Ye,handleClose:function(){return qe(!Ye)},handleChange:function(e){return function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n),M(Object(d.a)(Object(d.a)({},U),{},Object(ee.a)({},a,n))),E(Object(d.a)(Object(d.a)({},w),{},Object(ee.a)({},a,n)))}(e)},handleRelatedSelectChange:function(e,t){return function(e,t){var a,n,l;e.preventDefault(),e.target.options[e.target.selectedIndex].text;var i=e.target.options[e.target.selectedIndex].id,c=t.name,s=t.relatedName,r=e.target.value;console.log((a={},Object(ee.a)(a,s,i),Object(ee.a)(a,c,r),a)),M(Object(d.a)(Object(d.a)({},U),{},(n={},Object(ee.a)(n,s,i),Object(ee.a)(n,c,r),n))),E(Object(d.a)(Object(d.a)({},w),{},(l={},Object(ee.a)(l,s,i),Object(ee.a)(l,c,r),l))),se(!ie)}(e,t)},handleFileChange:function(e){return vt(e)},pageFields:oe,active:U,tab:ze,addRelatedValue:Je,handleAddRelatedValue:function(e){return Dt(e)},resetAddRelatedValue:function(){return Qe("")},handleUpdated:function(){return se(!ie)},currentCompany:T,currentCompanyID:g})}),Object(C.jsx)(ce,{title:"Add New",checked:Ue,direction:"right",handleClose:function(){return Me(!Ue)},handleSubmit:function(){return St()},children:Object(C.jsx)(Le,{relatedFields:Ie.pageFields,handleChange:function(e){return function(e){var t=e.target,a=t.name,n=t.value;Ee(Object(d.a)(Object(d.a)({},we),{},Object(ee.a)({},a,n)))}(e)},handleRelatedField:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return handleRelatedField(e)})),handleUpdated:function(){return se(!ie)},activeData:U,relatedData:Ie})})]}),Object(C.jsxs)(q,{children:[Object(C.jsx)(W,{size:"is-narrow",children:Object(C.jsxs)("div",{className:"is-size-7 ml-5",style:{fontVariant:["small-caps"]},children:["last updated: ",U.LastUpdated&&U.LastUpdated]})}),Object(C.jsx)(W,{size:"is-narrow",children:Object(C.jsxs)("div",{className:"is-size-7 ml-5",style:{fontVariant:["small-caps"]},children:["updated by: ",U.LastUpdateBy&&U.LastUpdateBy]})})]})]}):Object(C.jsx)("div",{className:"tile warning",children:" No record to display "})}),Object(C.jsx)(Pe,{handleEditButton:function(e){return qe(e)},isDrawerOpen:Ye,isBookmarked:U.isBookmarked,tags:U.Tags,handleUpdated:xt})]})},Ot=function(e){var t=e.value,a=e.setValue,n=e.fallbackValue,l=e.handleSetCache,i=e.children;return void 0!=t&""!=t||void 0!=n&&l(n,a),Object(C.jsx)(C.Fragment,{children:i})},ht=function(e){e.colRef;var t=e.dataField,a=e.label,n=(e.handleRelatedSubmit,e.handleRelatedInputChange);return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Se,{title:a&&a,name:t,fieldChanged:function(e){return n(e)}})})},xt=function(e){var t=Object(r.g)(),a=Object(r.f)(),l=(t.isModule&&t||null).isModule,i=Object(n.useContext)(S),c=i.serviceTypes,s=i.accessTypes,o=i.serviceStatusType,p=i.vendorList,m=(i.isStyle,i.setBills),O=i.setCurrentDate,h=i.setLocations,x=i.setAccounts,f=i.userSession,N=f.locations,v=f.services,y=f.orders,T=f.accounts,D=(f.tickets,f.bills),I=f.currentCompany,g=f.currentUser,k=t.currentCompanyID,A=(e.location.state||!1).isNew,V=(e.location.state||!1).isDrawerActive,L=(e.location.state||[]).cachedLocations,w=(e.location.state||[]).cachedAccounts,E=Object(n.useState)(""),R=Object(j.a)(E,2),B=R[0],U=R[1],M=Object(n.useState)(""),P=Object(j.a)(M,2),_=P[0],G=P[1],z=Object(n.useState)(""),H=Object(j.a)(z,2),K=H[0],Z=H[1],Y=Object(n.useState)(),J=Object(j.a)(Y,2),Q=J[0],X=J[1],te=Object(n.useState)(!0),ae=Object(j.a)(te,2),ne=ae[0],le=ae[1],ie=Object(n.useState)(!1),se=Object(j.a)(ie,2),re=se[0],de=se[1],oe=Object(n.useState)([]),ue=Object(j.a)(oe,2),be=ue[0],je=ue[1],pe=Object(n.useState)(""),me=Object(j.a)(pe,2),he=(me[0],me[1],Object(n.useState)(!1)),xe=Object(j.a)(he,2),Ne=(xe[0],xe[1],Object(n.useState)(!1)),ve=Object(j.a)(Ne,2),ye=ve[0],Ce=ve[1],Se=Object(n.useState)(!1),Te=Object(j.a)(Se,2),De=Te[0],Ie=Te[1],ge=Object(n.useState)(""),ke=Object(j.a)(ge,2),Ae=ke[0],Le=ke[1],we=Object(n.useState)(!1),Ee=Object(j.a)(we,2),Re=Ee[0],Be=Ee[1],Ue=Object(n.useState)("BASIC_INFO"),Me=Object(j.a)(Ue,2),Pe=Me[0],_e=Me[1],Ge=Object(n.useState)(!1),ze=Object(j.a)(Ge,2),He=ze[0],Ke=ze[1],Ze=Object(n.useState)(),Ye=Object(j.a)(Ze,2),qe=Ye[0],We=Ye[1],$e=Object(n.useState)(!1),Je=Object(j.a)($e,2),Qe=Je[0],Xe=Je[1];Object(n.useEffect)((function(){et(),tt(V,A),le(!0),it(),ut()}),[]),Object(n.useEffect)((function(){et(),lt("Vendor",p,be),lt("LocationName",N,be),lt("Type",c,be),lt("AccessType",s,be),lt("Status",o,be),lt("OrderNum",y,be),lt("ServiceID",v,be),lt("AccountNum",T,be),lt("Bills",D,be),nt()}),[ne]),Object(n.useEffect)((function(){et(),xt(),lt("Vendor",p,be),lt("LocationName",N,be),lt("Type",c,be),lt("AccessType",s,be),lt("Status",o,be),lt("OrderNum",y,be),lt("ServiceID",v,be),lt("AccountNum",T,be),lt("Bills",D,be)}),[re]);var et=function(){switch(l){case"Services":return je(ct);case"Accounts":return je(rt);case"Orders":return je(dt);case"Tickets":return je(st);case"Bills":return je(ot)}},tt=function(e,t){"true"===e&&Ke(!0),"true"===t&&X(!0)},nt=function(){be.filter((function(e){return!0===e.isHeader})).map((function(e){return Z(e.dataField)}));le(!1)},lt=function(e,t,a){var n=a.findIndex((function(t){return t.dataField===e}));a[n]=Object(d.a)(Object(d.a)({},a[n]),{},{inputSource:t})},it=function(){var e=Object(b.a)(u.a.mark((function e(){var a,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.collection(l).doc(t.id).get();case 2:return a=e.sent,e.next=5,a.data();case 5:return n=e.sent,e.next=8,a.id;case 8:i=e.sent,G(Object(d.a)({id:i},n)),U(n),console.log("fetch:",_,n);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log("after",_,B);var ut=function(){var e=Object(b.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.collection("Bills").where("ServiceID","==",t.id).get();case 2:return a=e.sent,e.next=5,a.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));case 5:return n=e.sent,e.next=8,m(n);case 8:return e.next=10,le(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(be);var bt=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection(l).doc().set(t);case 3:Ce("Saved"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie("Error saving");case 9:X(!1),de(!0),Ke(!He);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(b.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.collection(l).doc(t.id).update(a);case 3:Ce("Saved"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ie("Error saving");case 9:X(!1),de(!0),Ke(!He);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),mt=function(){Ke(!He)},xt=function(){var e,t;G(Object(d.a)(Object(d.a)({},_),{},(e={},Object(ee.a)(e,"LastUpdated",O()),Object(ee.a)(e,"LastUpdatedBy",g),Object(ee.a)(e,"CompanyID",k),Object(ee.a)(e,"CompanyName",I),e))),U(Object(d.a)(Object(d.a)({},B),{},(t={},Object(ee.a)(t,"LastUpdated",O()),Object(ee.a)(t,"LastUpdatedBy",g),Object(ee.a)(t,"CompanyID",k),Object(ee.a)(t,"CompanyName",I),t)))},ft=function(e,t){t(e)},Nt=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Ae),e.prev=1,e.next=4,F.collection(Ae.collection).doc().set(Ae.data);case 4:Ce("New ".concat(Ae.label," Saved")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Ie("Error Saving New ".concat(Ae.label));case 10:de(!0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)($,{active:ne,children:Object(C.jsx)(at,{title:"DETAILS",subtitle:_&&[_].map((function(e){return e[K]&&e[K]})),status:"view",handleToggle:function(){return mt()},pageSuccess:ye,pageError:De,children:i&&void 0!=i.userSession?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(fe,{children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{className:"BASIC_INFO"===Pe?"is-active":"",children:Object(C.jsx)("a",{onClick:function(){return _e("BASIC_INFO")},children:"Basic Info"})}),Object(C.jsx)("li",{className:"DETAILS"===Pe?"is-active":"",children:Object(C.jsx)("a",{onClick:function(){return _e("DETAILS")},children:"Details"})}),Object(C.jsx)("li",{className:"SUPPORT"===Pe?"is-active":"",children:Object(C.jsx)("a",{onClick:function(){return _e("SUPPORT")},children:"Support"})}),Object(C.jsx)("li",{className:"BILLING"===Pe?"is-active":"",children:Object(C.jsx)("a",{onClick:function(){return _e("BILLING")},children:"Billing"})}),Object(C.jsx)("li",{className:"NOTES"===Pe?"is-active":"",children:Object(C.jsx)("a",{onClick:function(){return _e("NOTES")},children:"Notes"})})]})}),Object(C.jsxs)("div",{className:"box p-4 is-rounded has-text-black",children:[Object(C.jsxs)("nav",{className:"breadcrumb","aria-label":"breadcrumbs",children:[" ",Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{className:"is-size-7 is-uppercase",children:["last updated: ",_.LastUpdated&&_.LastUpdated]}),Object(C.jsxs)("li",{className:"is-size-7 is-uppercase pl-2",children:["updated by: ",_.LastUpdatedBy&&_.LastUpdatedBy]})]})]}),_&&be.map((function(e){return Object(C.jsx)(C.Fragment,{children:[_].map((function(t){return Object(C.jsx)("div",{className:0!=e.visible&e.tab===Pe?"":"is-hidden",children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-3",children:Object(C.jsx)(pt,{children:Object(C.jsxs)(q,{options:"is-mobile",children:[Object(C.jsx)(W,{size:"is-11",children:Object(C.jsxs)("div",{children:[e.label,!0===e.addBtn?Object(C.jsx)("a",{className:"link has-text-weight-normal is-size-7 pl-2",onClick:function(t){return a=e.relatedCollection,n=e.dataField,l=e.relatedInputLabel,i=e.relatedDataField,console.log({collection:a,field:n,label:l}),Le({collection:a,field:n,label:l,fieldRelated:i}),void Be(!0);var a,n,l,i},children:"(add) "}):null]},e.label)}),Object(C.jsx)(W,{children:":"})]})})}),Object(C.jsx)(W,{size:"pl-5",children:Object(C.jsx)(Ot,{value:T,setValue:x,handleSetCache:function(e,t){return ft(e,t)},fallbackValue:w,children:Object(C.jsx)(Ot,{value:N,setValue:h,handleSetCache:function(e,t){return ft(e,t)},fallbackValue:L,children:Object(C.jsx)(Oe,{field:e,fieldData:t,relatedDataMap:e.inputSource&&e.inputSource.filter((function(a){return a[e.relatedDataField]===t.id})).map((function(e){return Object(d.a)({},e)})),toggleViewDrawer:function(){return mt()},toggleFieldDropDown:function(){return Xe(!Qe)},isViewRelatedActive:Qe,handleClick:function(e){return function(e){le(!0),a({pathname:"/".concat(e.colRef,"/").concat(k,"/").concat(e.id),state:{services:v,locations:N,accounts:T}})}(e)}})})})})]})})}))})})),Object(C.jsxs)(ce,{checked:He,handleClose:function(){return Ke(!He)},direction:"right",handleSubmit:function(){!0===Q?bt(B):jt(B)},children:[Object(C.jsx)(Ve,{checked:He,handleClose:function(){return Ke(!He)},handleChange:function(e){return function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n),G(Object(d.a)(Object(d.a)({},_),{},Object(ee.a)({},a,n))),U(Object(d.a)(Object(d.a)({},B),{},Object(ee.a)({},a,n))),de(!re)}(e)},handleRelatedSelectChange:function(e,t){return function(e,t){var a,n,l;e.preventDefault(),e.target.options[e.target.selectedIndex].text;var i=e.target.options[e.target.selectedIndex].id,c=t.name,s=t.relatedName,r=e.target.value;console.log((a={},Object(ee.a)(a,s,i),Object(ee.a)(a,c,r),a)),G(Object(d.a)(Object(d.a)({},_),{},(n={},Object(ee.a)(n,s,i),Object(ee.a)(n,c,r),n))),U(Object(d.a)(Object(d.a)({},B),{},(l={},Object(ee.a)(l,s,i),Object(ee.a)(l,c,r),l))),de(!re)}(e,t)},pageFields:be,active:_,tab:Pe,addRelatedValue:qe,handleAddRelatedValue:function(e){return function(e){console.log(e),We(e)}(e)},resetAddRelatedValue:function(){return We("")},handleUpdated:function(){return de(!re)},currentCompany:I,currentCompanyID:k}),Object(C.jsx)(Fe,{colRef:l,docRef:_.id})]}),Object(C.jsx)(ce,{checked:Re,direction:"right",handleClose:function(){return Be(!Re)},handleSubmit:function(){return Nt()},children:Object(C.jsx)(ht,{colRef:Ae.collection,dataField:Ae.field,label:Ae.label,handleRelatedInputChange:function(e){return function(e){var a,n=e.target,l=n.name,i=n.value;Le(Object(d.a)(Object(d.a)({},Ae),{},{data:(a={},Object(ee.a)(a,l,i),Object(ee.a)(a,"CompanyID",k),Object(ee.a)(a,"CompanyName",I),Object(ee.a)(a,"CreatedDate",O()),Object(ee.a)(a,"CreatedBy",g),Object(ee.a)(a,Ae.fieldRelated,t.id),a)}))}(e)}})})]})]}):Object(C.jsx)("div",{className:"tile warning",children:" No record to display "})})})},ft=function(){var e=Object(r.f)();return Object(C.jsx)("div",{className:"hero is-medium",children:Object(C.jsx)("div",{className:"hero-body",children:Object(C.jsxs)("div",{className:"card is-rounded px-4 py-4",children:[Object(C.jsxs)("p",{className:"title",children:[" ",Object(C.jsx)(U.n,{})," Sorry about this... "]}),Object(C.jsxs)("p",{className:"block",children:[" Click",Object(C.jsx)("a",{className:"pl-1",onclick:function(){return e("/dashboard")},children:"here"}),"to return to the dashboard"]})]})})})},Nt=function(e){var t=e.params,a=e.children;return Object(C.jsx)("nav",{className:"panel ".concat(t),children:a})},vt=function(e){e.params;var t=e.children;return Object(C.jsx)("p",{className:"panel-heading",children:t})},Ft=function(e){var t=e.children;return Object(C.jsx)("div",{className:"panel-block",children:t})};function yt(){var e=Object(n.useState)({open:!0,label:"New Module"}),t=Object(j.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)([{label:"Field",module:"Field",type:"text",key:"Field",ref:{options:""},params:{header:!0,visible:!0,tab:"Essentials"}}]),c=Object(j.a)(i,2);return{editModule:a,setEditModule:l,fields:c[0],setFields:c[1]}}var Ct=function(e){var t,a=e.moduleData,n=e.fields,l=e.checked,i=e.handleToggleHeader,c=e.handleToggleVisible,s=e.handleToggleCurrency,r=e.handleParamsTextChange,d=e.handleRefTextChange,o=e.handleTextChange,u=e.handleModuleTextChange,b=e.handleDeleteField,j=e.handleSelectChange,p=e.handleAddField,m=e.handleSaveModule,O=e.handleSubmitModule,h=e.handleToggleDrawer;return console.log("fields:",n,"module",a),Object(C.jsx)(ie,{children:a&&(null===(t=[a])||void 0===t?void 0:t.map((function(e){e.open;var t=e.label;return Object(C.jsx)(ae,{direction:"right",checked:l&&l,handleClose:function(){return h()},title:t&&t,children:Object(C.jsxs)("div",{className:"adminDrawer",children:[Object(C.jsxs)("article",{className:"message is-active",children:[Object(C.jsx)("div",{className:"message-header",children:"Module Name"}),Object(C.jsx)("div",{className:"field",children:Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"label",placeholder:"Label",onChange:function(e){return u(e)},defaultValue:t})})})]}),n.map((function(e,t){var a,l,u,p,m,O,h,x,f,N;switch(e.type){case"text":return Object(C.jsxs)("article",{className:"message is-info",children:[Object(C.jsxs)("div",{className:"message-header",children:[null===e||void 0===e?void 0:e.label,Object(C.jsx)("button",{className:"delete",onClick:function(e){return b({index:t})}})]}),Object(C.jsxs)("div",{className:"message-body",children:[Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Label"}),Object(C.jsx)("input",{className:"input",type:"text",name:"label",placeholder:"Label",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.label})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Key"}),Object(C.jsx)("input",{className:"input",type:"text",name:"key",placeholder:"Key",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.key})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Type"}),Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"type"})},defaultValue:e.type,children:[Object(C.jsx)("option",{value:"text",children:"Text"}),Object(C.jsx)("option",{value:"textarea",children:"Text-Area"}),Object(C.jsx)("option",{value:"select",children:"Select"}),Object(C.jsx)("option",{value:"related-select",children:"Related-Select"}),Object(C.jsx)("option",{value:"datalist",children:"Datalist"}),Object(C.jsx)("option",{value:"related-datalist",children:"Related Datalist"}),Object(C.jsx)("option",{value:"related-doclink",children:"Related Doclink"}),Object(C.jsx)("option",{value:"checkbox",children:"Checkbox"}),Object(C.jsx)("option",{value:"datepicker",children:"DatePicker"})]})})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Header"}),Object(C.jsx)("button",{className:!0===e.params.header?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return i({prev:e,index:t})},children:!0===e.params.header?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Visible"}),Object(C.jsx)("button",{className:!0===e.params.visible?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return c({prev:e,index:t})},children:!0===e.params.visible?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Currency"}),Object(C.jsx)("button",{className:!0===(null===(a=e.params)||void 0===a?void 0:a.currency)?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return s({prev:e,index:t})},children:!0===(null===(l=e.params)||void 0===l?void 0:l.currency)?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Tab"}),Object(C.jsx)("input",{className:"input",type:"text",name:"tab",placeholder:"Tab",onChange:function(a,n,l){return r(a,{prev:e,index:t})},defaultValue:e.params.tab})]})})]})]});case"textarea":return Object(C.jsxs)("article",{className:"message is-info",children:[Object(C.jsxs)("div",{className:"message-header",children:[null===e||void 0===e?void 0:e.label,Object(C.jsx)("button",{className:"delete",onClick:function(e){return b({index:t})}})]}),Object(C.jsxs)("div",{className:"message-body",children:[Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Label"}),Object(C.jsx)("input",{className:"input",type:"text",name:"label",placeholder:"Label",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.label})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Key"}),Object(C.jsx)("input",{className:"input",type:"text",name:"key",placeholder:"Key",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.key})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Type"}),Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"type"})},defaultValue:e.type,children:[Object(C.jsx)("option",{value:"text",children:"Text"}),Object(C.jsx)("option",{value:"textarea",children:"Text-Area"}),Object(C.jsx)("option",{value:"select",children:"Select"}),Object(C.jsx)("option",{value:"related-select",children:"Related-Select"}),Object(C.jsx)("option",{value:"datalist",children:"Datalist"}),Object(C.jsx)("option",{value:"related-datalist",children:"Related Datalist"}),Object(C.jsx)("option",{value:"related-doclink",children:"Related Doclink"}),Object(C.jsx)("option",{value:"checkbox",children:"Checkbox"}),Object(C.jsx)("option",{value:"datepicker",children:"DatePicker"})]})})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Header"}),Object(C.jsx)("button",{className:!0===e.params.header?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return i({prev:e,index:t})},children:!0===e.params.header?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Visible"}),Object(C.jsx)("button",{className:!0===e.params.visible?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return c({prev:e,index:t})},children:!0===e.params.visible?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Currency"}),Object(C.jsx)("button",{className:!0===(null===(u=e.params)||void 0===u?void 0:u.currency)?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return s({prev:e,index:t})},children:!0===(null===(p=e.params)||void 0===p?void 0:p.currency)?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Tab"}),Object(C.jsx)("input",{className:"input",type:"text",name:"tab",placeholder:"Tab",onChange:function(a,n,l){return r(a,{prev:e,index:t})},defaultValue:e.params.tab})]})})]})]});case"select":return Object(C.jsxs)("article",{className:"message is-info",children:[Object(C.jsxs)("div",{className:"message-header",children:[null===e||void 0===e?void 0:e.label,Object(C.jsx)("button",{className:"delete",onClick:function(e){return b({index:t})}})]}),Object(C.jsxs)("div",{className:"message-body",children:[Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Label"}),Object(C.jsx)("input",{className:"input",type:"text",name:"label",placeholder:"Label",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.label})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Key"}),Object(C.jsx)("input",{className:"input",type:"text",name:"key",placeholder:"Key",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.key})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Type"}),Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"type"})},defaultValue:e.type,children:[Object(C.jsx)("option",{value:"text",children:"Text"}),Object(C.jsx)("option",{value:"textarea",children:"Text-Area"}),Object(C.jsx)("option",{value:"select",children:"Select"}),Object(C.jsx)("option",{value:"related-select",children:"Related-Select"}),Object(C.jsx)("option",{value:"datalist",children:"Datalist"}),Object(C.jsx)("option",{value:"related-datalist",children:"Related Datalist"}),Object(C.jsx)("option",{value:"related-doclink",children:"Related Doclink"}),Object(C.jsx)("option",{value:"checkbox",children:"Checkbox"}),Object(C.jsx)("option",{value:"datepicker",children:"DatePicker"})]})})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Ref: Select Field Options"}),Object(C.jsx)("input",{className:"input",type:"text",name:"options",placeholder:"Field Options",onChange:function(a,n,l){return d(a,{prev:e,index:t})},defaultValue:null===(m=e.ref)||void 0===m?void 0:m.fields})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Header"}),Object(C.jsx)("button",{className:!0===e.params.header?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return i({prev:e,index:t})},children:!0===e.params.header?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Visible"}),Object(C.jsx)("button",{className:!0===e.params.visible?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return c({prev:e,index:t})},children:!0===e.params.visible?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Tab"}),Object(C.jsx)("input",{className:"input",type:"text",name:"tab",placeholder:"Tab",onChange:function(a,n,l){return r(a,{prev:e,index:t})},defaultValue:e.params.tab})]})})]})]});case"related-select":return Object(C.jsxs)("article",{className:"message is-info",children:[Object(C.jsxs)("div",{className:"message-header",children:[null===e||void 0===e?void 0:e.label,Object(C.jsx)("button",{className:"delete",onClick:function(e){return b({index:t})}})]}),Object(C.jsxs)("div",{className:"message-body",children:[Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Label"}),Object(C.jsx)("input",{className:"input",type:"text",name:"label",placeholder:"Label",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.label})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Key"}),Object(C.jsx)("input",{className:"input",type:"text",name:"key",placeholder:"Key",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.key})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Type"}),Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"type"})},defaultValue:e.type,children:[Object(C.jsx)("option",{value:"text",children:"Text"}),Object(C.jsx)("option",{value:"textarea",children:"Text-Area"}),Object(C.jsx)("option",{value:"select",children:"Select"}),Object(C.jsx)("option",{value:"related-select",children:"Related-Select"}),Object(C.jsx)("option",{value:"datalist",children:"Datalist"}),Object(C.jsx)("option",{value:"related-datalist",children:"Related Datalist"}),Object(C.jsx)("option",{value:"related-doclink",children:"Related Doclink"}),Object(C.jsx)("option",{value:"checkbox",children:"Checkbox"}),Object(C.jsx)("option",{value:"datepicker",children:"DatePicker"})]})})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Ref: Related-Select - Collection to Relate"}),Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"collection"})},defaultValue:null===(O=e.ref)||void 0===O?void 0:O.collection,children:[Object(C.jsx)("option",{value:"Locations",children:"Locations"}),Object(C.jsx)("option",{value:"Services",children:"Services"}),Object(C.jsx)("option",{value:"Tickets",children:"Tickets"}),Object(C.jsx)("option",{value:"Accounts",children:"Accounts"}),Object(C.jsx)("option",{value:"Orders",children:"Orders"}),Object(C.jsx)("option",{value:"Companies",children:"Companies"}),Object(C.jsx)("option",{value:"Contacts",children:"Contacts"}),Object(C.jsx)("option",{value:"Events",children:"Events"}),Object(C.jsx)("option",{value:"Bills",children:"Bills"}),Object(C.jsx)("option",{value:"Users",children:"Users"}),Object(C.jsx)("option",{value:"Notes",children:"Notes"}),Object(C.jsx)("option",{value:"Vendors",children:"Vendors"}),Object(C.jsx)("option",{value:"States",children:"States"})]})})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Ref: Related-Select - Fields to Relate"}),Object(C.jsx)("input",{className:"input",type:"text",name:"fields",placeholder:"Fields to Relate",onChange:function(a,n,l){return d(a,{prev:e,index:t})},defaultValue:null===(h=e.ref)||void 0===h?void 0:h.fields})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Header"}),Object(C.jsx)("button",{className:!0===e.params.header?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return i({prev:e,index:t})},children:!0===e.params.header?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Visible"}),Object(C.jsx)("button",{className:!0===e.params.visible?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return c({prev:e,index:t})},children:!0===e.params.visible?"on":"off"})]})}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Tab"}),Object(C.jsx)("input",{className:"input",type:"text",name:"tab",placeholder:"Tab",onChange:function(a,n,l){return r(a,{prev:e,index:t})},defaultValue:e.params.tab})]})})]})]});case"datalist":return Object(C.jsxs)("article",{className:"message is-info",children:[Object(C.jsxs)("div",{className:"message-header",children:[null===e||void 0===e?void 0:e.label,Object(C.jsx)("button",{className:"delete",onClick:function(e){return b({index:t})}})]}),Object(C.jsxs)("div",{className:"message-body",children:[Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Label"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"label",placeholder:"Label",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.label})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Key"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"key",placeholder:"Key",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.key})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Type"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"type"})},defaultValue:e.type,children:[Object(C.jsx)("option",{value:"text",children:"Text"}),Object(C.jsx)("option",{value:"textarea",children:"Text-Area"}),Object(C.jsx)("option",{value:"select",children:"Select"}),Object(C.jsx)("option",{value:"related-select",children:"Related-Select"}),Object(C.jsx)("option",{value:"datalist",children:"Datalist"}),Object(C.jsx)("option",{value:"related-datalist",children:"Related Datalist"}),Object(C.jsx)("option",{value:"related-doclink",children:"Related Doclink"}),Object(C.jsx)("option",{value:"checkbox",children:"Checkbox"}),Object(C.jsx)("option",{value:"datepicker",children:"DatePicker"})]})})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Ref: Fields "}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"fields",placeholder:"Fields to Relate",onChange:function(a,n,l){return d(a,{prev:e,index:t})},defaultValue:null===(x=e.ref)||void 0===x?void 0:x.fields})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Header"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("button",{className:!0===e.params.header?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return i({prev:e,index:t})},children:!0===e.params.header?"on":"off"})})]}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Visible"}),Object(C.jsx)("button",{className:!0===e.params.visible?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return c({prev:e,index:t})},children:!0===e.params.visible?"on":"off"})]})}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Tab"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"tab",placeholder:"Tab",onChange:function(a,n,l){return r(a,{prev:e,index:t})},defaultValue:e.params.tab})})]})]})]});case"related-datalist":return Object(C.jsxs)("article",{className:"message is-info",children:[Object(C.jsxs)("div",{className:"message-header",children:[null===e||void 0===e?void 0:e.label,Object(C.jsx)("button",{className:"delete",onClick:function(e){return b({index:t})}})]}),Object(C.jsxs)("div",{className:"message-body",children:[Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Label"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"label",placeholder:"Label",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.label})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Key"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"key",placeholder:"Key",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.key})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Type"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"type"})},defaultValue:e.type,children:[Object(C.jsx)("option",{value:"text",children:"Text"}),Object(C.jsx)("option",{value:"textarea",children:"Text-Area"}),Object(C.jsx)("option",{value:"select",children:"Select"}),Object(C.jsx)("option",{value:"related-select",children:"Related-Select"}),Object(C.jsx)("option",{value:"datalist",children:"Datalist"}),Object(C.jsx)("option",{value:"related-datalist",children:"Related Datalist"}),Object(C.jsx)("option",{value:"related-doclink",children:"Related Doclink"}),Object(C.jsx)("option",{value:"checkbox",children:"Checkbox"}),Object(C.jsx)("option",{value:"datepicker",children:"DatePicker"})]})})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Ref: Related-Datalist Field Collection"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"collection"})},defaultValue:null===(f=e.ref)||void 0===f?void 0:f.collection,children:[Object(C.jsx)("option",{value:"Locations",children:"Locations"}),Object(C.jsx)("option",{value:"Services",children:"Services"}),Object(C.jsx)("option",{value:"Tickets",children:"Tickets"}),Object(C.jsx)("option",{value:"Accounts",children:"Accounts"}),Object(C.jsx)("option",{value:"Orders",children:"Orders"}),Object(C.jsx)("option",{value:"Companies",children:"Companies"}),Object(C.jsx)("option",{value:"Contacts",children:"Contacts"}),Object(C.jsx)("option",{value:"Events",children:"Events"}),Object(C.jsx)("option",{value:"Bills",children:"Bills"}),Object(C.jsx)("option",{value:"Users",children:"Users"}),Object(C.jsx)("option",{value:"Notes",children:"Notes"})]})})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Ref: Related-Select - Fields to Relate"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"fields",placeholder:"Fields to Relate",onChange:function(a,n,l){return d(a,{prev:e,index:t})},defaultValue:null===(N=e.ref)||void 0===N?void 0:N.fields})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Header"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("button",{className:!0===e.params.header?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return i({prev:e,index:t})},children:!0===e.params.header?"on":"off"})})]}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Visible"}),Object(C.jsx)("button",{className:!0===e.params.visible?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return c({prev:e,index:t})},children:!0===e.params.visible?"on":"off"})]})}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Tab"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"tab",placeholder:"Tab",onChange:function(a,n,l){return r(a,{prev:e,index:t})},defaultValue:e.params.tab})})]})]})]});case"datepicker":return Object(C.jsxs)("article",{className:"message is-info",children:[Object(C.jsxs)("div",{className:"message-header",children:[null===e||void 0===e?void 0:e.label,Object(C.jsx)("button",{className:"delete",onClick:function(e){return b({index:t})}})]}),Object(C.jsxs)("div",{className:"message-body",children:[Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Label"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"label",placeholder:"Label",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.label})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Key"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"key",placeholder:"Key",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.key})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Type"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"type"})},defaultValue:e.type,children:[Object(C.jsx)("option",{value:"text",children:"Text"}),Object(C.jsx)("option",{value:"textarea",children:"Text-Area"}),Object(C.jsx)("option",{value:"select",children:"Select"}),Object(C.jsx)("option",{value:"related-select",children:"Related-Select"}),Object(C.jsx)("option",{value:"datalist",children:"Datalist"}),Object(C.jsx)("option",{value:"related-datalist",children:"Related Datalist"}),Object(C.jsx)("option",{value:"related-doclink",children:"Related Doclink"}),Object(C.jsx)("option",{value:"checkbox",children:"Checkbox"}),Object(C.jsx)("option",{value:"datepicker",children:"DatePicker"})]})})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Header"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("button",{className:!0===e.params.header?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return i({prev:e,index:t})},children:!0===e.params.header?"on":"off"})})]}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Visible"}),Object(C.jsx)("button",{className:!0===e.params.visible?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return c({prev:e,index:t})},children:!0===e.params.visible?"on":"off"})]})}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Tab"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"tab",placeholder:"Tab",onChange:function(a,n,l){return r(a,{prev:e,index:t})},defaultValue:e.params.tab})})]})]})]});case"related-doclink":return Object(C.jsxs)("article",{className:"message is-info",children:[Object(C.jsxs)("div",{className:"message-header",children:[null===e||void 0===e?void 0:e.label,Object(C.jsx)("button",{className:"delete",onClick:function(e){return b({index:t})}})]}),Object(C.jsxs)("div",{className:"message-body",children:[Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Label"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"label",placeholder:"Label",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.label})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Key"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"key",placeholder:"Key",onChange:function(a,n,l){return o(a,{prev:e,index:t})},defaultValue:e.key})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Type"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"type"})},defaultValue:e.type,children:[Object(C.jsx)("option",{value:"text",children:"Text"}),Object(C.jsx)("option",{value:"textarea",children:"Text-Area"}),Object(C.jsx)("option",{value:"select",children:"Select"}),Object(C.jsx)("option",{value:"related-select",children:"Related-Select"}),Object(C.jsx)("option",{value:"datalist",children:"Datalist"}),Object(C.jsx)("option",{value:"related-datalist",children:"Related Datalist"}),Object(C.jsx)("option",{value:"related-doclink",children:"Related Doclink"}),Object(C.jsx)("option",{value:"checkbox",children:"Checkbox"}),Object(C.jsx)("option",{value:"datepicker",children:"DatePicker"})]})})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Field to Reference"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("div",{className:"select",children:Object(C.jsxs)("select",{onChange:function(a,n,l,i){return j(a,{prev:e,index:t,name:"ref"})},defaultValue:null===e||void 0===e?void 0:e.ref,children:[Object(C.jsx)("option",{children:"Choose a field"}),n.map((function(e){return Object(C.jsx)("option",{value:e.key,children:e.key})}))]})})})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Header"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("button",{className:!0===e.params.header?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return i({prev:e,index:t})},children:!0===e.params.header?"on":"off"})})]}),Object(C.jsx)("div",{className:"field",children:Object(C.jsxs)("p",{className:"control",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Visible"}),Object(C.jsx)("button",{className:!0===e.params.visible?"button is-primary is-small":"button is-danger is-small",onClick:function(a,n){return c({prev:e,index:t})},children:!0===e.params.visible?"on":"off"})]})}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{className:"label",children:"Parameters: Tab"}),Object(C.jsx)("p",{className:"control",children:Object(C.jsx)("input",{className:"input",type:"text",name:"tab",placeholder:"Tab",onChange:function(a,n,l){return r(a,{prev:e,index:t})},defaultValue:e.params.tab})})]})]})]})}})),Object(C.jsxs)("div",{className:"field is-grouped",children:[Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("button",{className:"button",onClick:function(){return p()},children:"Add Field"})}),Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("button",{className:"button",onClick:function(){return m()},children:"Save Module"})}),Object(C.jsx)("div",{className:"control",children:Object(C.jsx)("button",{className:"button",onClick:function(){return O()},children:"Submit Module"})})]})]})})})))})},St=function(){var e=N.collection,t=N.query,a=N.getDocs,l=N.doc,i=N.setDoc,c=N.deleteDoc,s=Object(n.useContext)(A),r=(s.serviceGridColumns,s.serviceMobileGridColumns,s.serviceGroupByFields,s.locationGridColumns,s.locationMobileGridColumns,s.locationGroupByFields,s.locationDetailFields,s.ticketGridColumns,s.ticketGroupByFields,s.ticketMobileGridColumns,s.orderGridColumns,s.orderGroupByFields,s.orderMobileGridColumns,s.accountGridColumns,s.accountGroupByFields,s.accountMobileGridColumns,s.userGridColumns,s.userDetailFields,s.userProfileFields,s.contractGridColumns,s.contractMobileGridColumns,s.contractDetailFields,s.contractGroupByFields,s.serviceDetailFields,s.ticketDetailFields,s.accountDetailFields,s.orderDetailFields,s.billsDetailFields,s.contactDetailFields,s.eventDetailFields,Object(n.useState)(!1)),o=Object(j.a)(r,2),p=o[0],m=o[1],O=Object(n.useState)(),h=Object(j.a)(O,2),x=h[0],f=h[1],v=Object(n.useState)(!1),y=Object(j.a)(v,2),S=y[0],T=y[1],D=yt(),I=D.editModule,g=D.setEditModule,k=yt(),V=k.fields,L=k.setFields;Object(n.useEffect)((function(){void 0!=x?console.log("Did not fetch"):E()}),[]),Object(n.useEffect)((function(){1!=S?console.log("Not updated"):E()}),[S]);var w={label:"Field",type:"text",key:"Field",params:{header:!0,visible:!0,tab:"Essentials"}},E=function(){var n=Object(b.a)(u.a.mark((function n(){var l,i,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l=t(e(F,"Core")),n.next=4,a(l);case 4:return i=n.sent,n.next=7,i.docs.map((function(e){return Object(d.a)({id:e.id},e.data())}));case 7:return c=n.sent,n.next=10,f(c);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log("Error fetching");case 15:T(!1);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(){return n.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("editModule",I,"label",I.label),t=Object(d.a)({},I),e.prev=2,e.next=5,i(l(F,"Core",I.label),Object(d.a)({},t));case 5:U(),console.log("Saved!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Error");case 12:T(!0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),B=function(){m(!p)},U=function(){m(!p),g(""),L("")},M=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,c(l(F,"Core",t.id));case 4:console.log("Saved!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Error");case 10:T(!0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return console.log("ismodulelist",x),Object(C.jsxs)("div",{className:"adminDrawer",children:[Object(C.jsxs)(Nt,{children:[Object(C.jsx)(vt,{children:"Edit Module Pages"}),Object(C.jsxs)(C.Fragment,{children:[x&&(null===x||void 0===x?void 0:x.map((function(e,t){return Object(C.jsx)(Ft,{children:Object(C.jsx)("p",{className:"control has-icons-right",children:Object(C.jsxs)("button",{className:"button is-fullwidth",onClick:function(){return function(e){g(e),L(e.fields),m(!0)}(e)},children:[e.id,Object(C.jsx)("span",{className:"icon is-small is-right",children:Object(C.jsx)("i",{className:"delete is-small",onClick:function(){return M(e)}})})]})})})}))),Object(C.jsx)(Ft,{children:Object(C.jsx)("button",{className:"button",onClick:function(){return B()},children:"Add Module"})})]})]}),Object(C.jsx)(Ct,{moduleData:I&&I,fields:V&&V,checked:p,handleToggleDrawer:B,handleTextChange:function(e,t,a){return function(e,t){var a=t.prev,n=t.index;e.preventDefault();var l=e.target,i=l.name,c=l.value,s=Object(d.a)(Object(d.a)({},a),{},Object(ee.a)({},i,c)),r=Object(J.a)(V);r[n]=Object(d.a)({},s),L(Object(J.a)(r)),console.log("index",n,"fieldChanged",s,"fields",V)}(e,t)},handleSelectChange:function(e,t,a,n){return function(e,t){var a=t.prev,n=t.index,l=t.name;e.preventDefault();var i=e.target.value,c=Object(d.a)(Object(d.a)({},a),{},Object(ee.a)({},l,i)),s=Object(J.a)(V);s[n]=Object(d.a)({},c),L(Object(J.a)(s)),console.log("index",n,"fieldChanged",c,"fields",V)}(e,t)},handleToggleVisible:function(e,t){return function(e){var t=e.prev,a=e.index,n=Object(d.a)(Object(d.a)({},t),{},Object(ee.a)({},"params",Object(d.a)(Object(d.a)({},t.params),{},{visible:!t.params.visible}))),l=Object(J.a)(V);l[a]=Object(d.a)({},n),L(Object(J.a)(l))}(e)},handleToggleHeader:function(e,t){return function(e){var t=e.prev,a=e.index,n=Object(d.a)(Object(d.a)({},t),{},Object(ee.a)({},"params",Object(d.a)(Object(d.a)({},t.params),{},{header:!t.params.header}))),l=Object(J.a)(V);l[a]=Object(d.a)({},n),L(Object(J.a)(l))}(e)},handleToggleCurrency:function(e,t){return function(e){var t,a=e.prev,n=e.index,l=Object(d.a)(Object(d.a)({},a),{},Object(ee.a)({},"params",Object(d.a)(Object(d.a)({},a.params),{},{currency:!(null===(t=a.params)||void 0===t?void 0:t.currency)}))),i=Object(J.a)(V);i[n]=Object(d.a)({},l),L(Object(J.a)(i))}(e)},handleParamsTextChange:function(e,t,a){return function(e,t){var a=t.prev,n=t.index,l=e.target,i=l.name,c=l.value,s=Object(d.a)(Object(d.a)({},a),{},Object(ee.a)({},"params",Object(d.a)(Object(d.a)({},a.params),{},Object(ee.a)({},i,c)))),r=Object(J.a)(V);r[n]=Object(d.a)({},s),L(Object(J.a)(r))}(e,t)},handleRefTextChange:function(e,t,a){return function(e,t){var a=t.prev,n=t.index,l=e.target,i=(l.name,l.value),c=null===i||void 0===i?void 0:i.split(","),s=Object(d.a)(Object(d.a)({},a),{},Object(ee.a)({},"ref",Object(d.a)(Object(d.a)({},a.ref),{},Object(ee.a)({},"fields",Object(J.a)(c))))),r=Object(J.a)(V);r[n]=Object(d.a)({},s),L(Object(J.a)(r))}(e,t)},handleModuleTextChange:function(e){return function(e){var t;e.preventDefault();var a=e.target,n=(a.name,a.value);g(Object(d.a)(Object(d.a)({},I),{},(t={},Object(ee.a)(t,"label",n),Object(ee.a)(t,"id",n),t)))}(e)},handleDeleteField:function(e){return function(e){var t=e.index,a=Object(J.a)(V),n=V.length;a.splice(t,n),L(Object(J.a)(a))}(e)},handleAddField:function(){return function(){var e=[].concat(Object(J.a)(V),[w]);L(Object(J.a)(e))}()},handleSaveModule:function(){return g(Object(d.a)(Object(d.a)({},I),{},{fields:V})),void console.log(I)},handleSubmitModule:function(){return R()}})]})};var Tt=function(e){Object(n.useContext)(S).userSession.currentCompanyID;var t=e.handleClick,a=function(){var e=Object(n.useContext)(S).userSession,t=e.locations,a=e.services,l=e.tickets,i=e.orders,c=e.accounts,s=Object(n.useState)(""),r=Object(j.a)(s,2),o=r[0],u=r[1],b=Object(n.useState)([]),p=Object(j.a)(b,2),m=(p[0],p[1],Object(n.useState)([])),O=Object(j.a)(m,2),h=O[0],x=O[1],f=t?Object(J.a)(t):"",N=a?Object(J.a)(a):"",v=l?Object(J.a)(l):"",F=i?Object(J.a)(i):"",y=c?Object(J.a)(c):"";return Object(n.useEffect)((function(){var e,t=o&&f&&void 0!=f?f.filter((function(e){return Object.keys(e).some((function(t){return e[t].toString().toLowerCase().indexOf(o)>-1}))})):"",a=o&&N&&void 0!=N?N.filter((function(e){return Object.keys(e).some((function(t){return e[t].toString().toLowerCase().indexOf(o)>-1}))})):"",n=o&&v&&void 0!=v?v.filter((function(e){return Object.keys(e).some((function(t){return e[t].toString().toLowerCase().indexOf(o)>-1}))})):"",l=o&&F&&void 0!=F?F.filter((function(e){return Object.keys(e).some((function(t){return e[t].toString().toLowerCase().indexOf(o)>-1}))})):"",i=o&&y&&void 0!=y?y.filter((function(e){return Object.keys(e).some((function(t){return e[t].toString().toLowerCase().indexOf(o)>-1}))})):"";x(Object(d.a)(Object(d.a)({},h),{},(e={},Object(ee.a)(e,"locations",t),Object(ee.a)(e,"services",a),Object(ee.a)(e,"tickets",n),Object(ee.a)(e,"orders",l),Object(ee.a)(e,"accounts",i),e))),console.log(h)}),[o]),[h,u]}(),l=Object(j.a)(a,2),i=l[0],c=l[1],s=Object(n.useState)(""),o=Object(j.a)(s,2),u=o[0],b=o[1],p=Object(n.useState)(""),m=Object(j.a)(p,2),O=m[0],h=m[1],x=Object(n.useState)(""),f=Object(j.a)(x,2),N=(f[0],f[1],Object(n.useState)("")),v=Object(j.a)(N,2),F=(v[0],v[1],Object(r.f)());return Object(n.useEffect)((function(){console.log(i),b(i.locations&&i.locations),h(i.services&&i.services)}),[i]),Object(C.jsx)(at,{title:"Search",handleGoBack:function(){F(-1)},children:Object(C.jsxs)("div",{className:"hero is-large",children:[Object(C.jsx)("p",{className:"block"}),Object(C.jsx)("input",{className:"input is-rounded",type:"text",placeholder:"Search",onChange:function(e){return function(e){c(e.target.value.toLowerCase())}(e)}}),Object(C.jsx)("div",{className:"mt-5",children:u&&void 0!=u?u.map((function(e){return Object(C.jsxs)("div",{className:"box",children:[Object(C.jsx)("div",{className:"title is-size-7",children:"Location"}),Object(C.jsxs)("a",{onClick:function(){return t("Locations",e.id)},children:[Object(C.jsx)("span",{className:"title is-size-5",children:e.Name})," - ",null===e||void 0===e?void 0:e.Address1," ",null===e||void 0===e?void 0:e.Address2," ",null===e||void 0===e?void 0:e.City," ",null===e||void 0===e?void 0:e.State," ",e.Zip]})]},e.id)})):""}),Object(C.jsx)("div",{children:O&&void 0!=O?O.map((function(e){return Object(C.jsxs)("div",{className:"box",children:[Object(C.jsx)("div",{className:"title is-size-7",children:"Service"}),Object(C.jsxs)("a",{onClick:function(){return t("Services",e.id)},children:[Object(C.jsx)("span",{className:"title is-size-5",children:e.AssetID})," - ",e.LocationName]})]},e.id)})):""})]})})};function Dt(){Object(n.useContext)(S);return Object(C.jsx)(T,{children:Object(C.jsx)(E,{children:Object(C.jsx)(V,{children:Object(C.jsxs)(s.a,{children:[Object(C.jsx)(tt,{}),Object(C.jsxs)(r.c,{children:[Object(C.jsx)(r.a,{exact:!0,path:"/",element:Object(C.jsx)(B,{})}),Object(C.jsx)(r.a,{path:"/dashboard",element:Object(C.jsx)(et,{})}),Object(C.jsx)(r.a,{path:"/login",element:Object(C.jsx)(Xe,{})}),Object(C.jsx)(r.a,{path:"/register",element:Object(C.jsx)(R,{})}),Object(C.jsx)(r.a,{path:"/:isModule/:currentCompanyID/:id",element:Object(C.jsx)(mt,{})}),Object(C.jsx)(r.a,{path:"/Related/:isModule/:currentCompanyID/:id",element:Object(C.jsx)(xt,{})}),Object(C.jsx)(r.a,{path:"/addcompany",element:Object(C.jsx)(lt,{})}),Object(C.jsx)(r.a,{path:"/settings",element:Object(C.jsx)(St,{})}),Object(C.jsx)(r.a,{path:"/search",element:Object(C.jsx)(Tt,{})}),Object(C.jsx)(r.a,{element:Object(C.jsx)(ft,{})})]})]})})})})}a(325);c.a.render(Object(C.jsx)(Dt,{}),document.getElementById("root"))}},[[326,1,2]]]);
//# sourceMappingURL=main.87e0a8b0.chunk.js.map